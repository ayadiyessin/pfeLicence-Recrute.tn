<!doctype html>
<html lang="zxx">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <!--image-->
        <script src="https://static.filestackapi.com/filestack-js/3.x.x/filestack.min.js"></script>
       
        <!-- Links of CSS files -->
        <link rel="stylesheet" href="assets/css/bootstrap.min.css">
        <link rel="stylesheet" href="assets/css/aos.css">
        <link rel="stylesheet" href="assets/css/animate.min.css">
        <link rel="stylesheet" href="assets/css/meanmenu.css">
        <link rel="stylesheet" href="assets/css/flaticon.css">
        <link rel="stylesheet" href="assets/css/remixicon.css">
        <link rel="stylesheet" href="assets/css/odometer.min.css">
        <link rel="stylesheet" href="assets/css/owl.carousel.min.css">
        <link rel="stylesheet" href="assets/css/owl.theme.default.min.css">
        <link rel="stylesheet" href="assets/css/magnific-popup.min.css">
        <link rel="stylesheet" href="assets/css/fancybox.min.css">
        <link rel="stylesheet" href="assets/css/selectize.min.css">
        <link rel="stylesheet" href="assets/css/metismenu.min.css">
        <link rel="stylesheet" href="assets/css/simplebar.min.css">
        <link rel="stylesheet" href="assets/css/dropzone.min.css">
        <link rel="stylesheet" href="assets/css/style.css">
        <link rel="stylesheet" href="assets/css/navbar.css">
        <link rel="stylesheet" href="assets/css/footer.css">
        <link rel="stylesheet" href="assets/css/dashboard.css">
		<link rel="stylesheet" href="assets/css/responsive.css">
        <link rel="stylesheet" href="assets/css/notifcation.css">
		<link rel="stylesheet" href="assets/css/CV.css">
		<title>Demandeur d’emploi | Modifier CV </title>

        <link rel="icon" type="image/png" href="assets/Recrutelogo.png">
        <script>
            if(!localStorage.getItem("ID_DEM")){
              location.replace("loginDemandeur.html");
            }
          </script>
        
       
    </head>

    <body>

        <!-- Start Preloader Area -->
        <div class="preloader-area">
            <div class="spinner">
                <div class="inner">
                    <div class="disc"></div>
                    <div class="disc"></div>
                    <div class="disc"></div>
                </div>
            </div>
        </div>
        <!-- End Preloader Area -->

        <!-- Start Sidemenu Area -->
        <div class="sidemenu-area">
            <div class="sidemenu-header">
                <a href="AccueilDemandeur.html" class="navbar-brand d-flex align-items-center">
                    <img src="assets/Recrute.fr.png" alt="image">
                </a>

                <div class="responsive-burger-menu d-block d-lg-none">
                    <span class="top-bar"></span>
                    <span class="middle-bar"></span>
                    <span class="bottom-bar"></span>
                </div>
            </div>

            <div class="sidemenu-body">
                <ul class="sidemenu-nav metisMenu h-100" id="sidemenu-nav" data-simplebar>
                    <li class="nav-item  ">
                        <a href="dashboardDemandeur.html" class="nav-link">
                            <span class="icon"><i class="ri-home-line"></i></span>
                            <span class="menu-title">Tableau De Bord</span>
                        </a>
                    </li>
                    
                    <li class="nav-item " >
                        <a href="modifierProfil.html" class="nav-link">
                            <span class="icon"><i class="ri-user-line"></i></span>
                            <span class="menu-title">Mon Profil</span>
                        </a>
                    </li>

                    <li class="nav-item active">
                        <a href="ModifierCV.html" class="nav-link">
                            <span class="icon"><i class="ri-file-edit-line"></i></span>
                            <span class="menu-title">Modifier CV</span>
                        </a>
                    </li>

                    <li class="nav-item ">
                        <a href="GenererCV.html" class="nav-link">
                            <span class="icon"><i class="ri-newspaper-line"></i></span>
                            <span class="menu-title">Générer CV</span>
                        </a>
                    </li>

                    <li class="nav-item">
                        <a href="offresfavoris.html" class="nav-link">
                            <span class="icon"><i class="ri-heart-3-line"></i></span>
                            <span class="menu-title">Offres Favoris</span>
                        </a>
                    </li>

                    <li class="nav-item">
                        <a href="offrespostulees.html" class="nav-link">
                            <span class="icon"><i class="ri-send-plane-line"></i></span>
                            <span class="menu-title">Offres Postulées</span>
                        </a>
                    </li>
                    
                    <li class="nav-item">
                        <a href="confirmerEntretiens.html" class="nav-link">
                            <span class="icon"><i class="ri-checkbox-circle-line"></i></span>
                            <span class="menu-title">Confirme Entretiens</span>
                        </a>
                    </li>

                    <li class="nav-item">
                        <a href="entretienENAttenteDEM.html" class="nav-link">
                            <span class="icon"><i class="ri-calendar-todo-line"></i></span>
                            <span class="menu-title">Entretiens En Attente</span>
                        </a>
                    </li>

                    <li class="nav-item">
                        <a href="entretienDaujourdhuiDEM.html" class="nav-link">
                            <span class="icon"><i class="ri-calendar-check-line"></i></span>
                            <span class="menu-title">Entretiens D'aujourd'hui</span>
                        </a>
                    </li>

                    <li class="nav-item">
                        <a href="PVconfirlers.html" class="nav-link">
                            <span class="icon"><i class="ri-task-line"></i></span>
                            <span class="menu-title">PV Confirmés</Sspan>
                        </a>
                    </li>

                    <li class="nav-item">
                        <a href="Messageries.html" class="nav-link">
                            <span class="icon"><i class="ri-chat-download-line"></i></span>
                            <span class="menu-title">Messageries</span>
                        </a>
                    </li>

                    <li class="nav-item">
                        <a href="#" onClick="quiterStorge();" class="nav-link">
                            <span class="icon"><i class="ri-logout-circle-r-line"></i></span>
                            <span class="menu-title">Deconexion</span>
                        </a>
                    </li>

                    <li class="nav-item">
                        <a  onClick="supprmierCempte()" class="nav-link">
                            <span class="icon" style="color: red; "><i class="ri-delete-bin-line"></i></span>
                            <span class="menu-title" style="color: red; ">Supprimer Profil</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <!-- End Sidemenu Area -->

        <!-- Start Main Dashboard Content Wrapper Area -->
        <div class="main-dashboard-content d-flex flex-column">

            <!-- Start Navbar Area -->
            <div class="navbar-area">
                <div class="main-responsive-nav">
                    <div class="main-responsive-menu">
                        <div class="responsive-burger-menu d-lg-none d-block">
                            <span class="top-bar"></span>
                            <span class="middle-bar"></span>
                            <span class="bottom-bar"></span>
                        </div>
                    </div>
                </div>

                <div class="main-navbar">
                    <nav class="navbar navbar-expand-md navbar-light">
                        <div class="collapse navbar-collapse mean-menu" id="navbarSupportedContent">
                            <ul class="navbar-nav me-auto">
                                <li class="nav-item ">
                                    <a href="AccueilDemandeur.html" class="nav-link">
                                        Accueil 
                                    </a>
                                </li>
    
                                <li class="nav-item">
                                    <a href="contactDem.html" class="nav-link">Contact</a>
                                </li>

                                <li class="nav-item">
                                    <a  class="nav-link">   <i class="ri-notification-2-line"> </i>
                                        <span id="nbtotalhaut" class="badge badge-warning navbar-badge">0</span>   
                                       &ensp; Notification                  
                                    
                                    </a>
                                    <ul class="dropdown-menu">
                                        <li class="nav-item">
                                            <a href="Messageries.html" class="nav-link">
                                            <b id="nbCandidatmes">0 </b> Messages Reçus</a>
                                        </li>

                                        <li class="nav-item">
                                            <a href="entretienDaujourdhuiDEM.html" class="nav-link">
                                            <b id="nbentretienAujordhui">0 </b> Entretiens Aujourd'hui</a>
                                        </li>

                                        <li class="nav-item">
                                            <a href="confirmerEntretiens.html" class="nav-link">
                                            <b id="nbentretienNONCON">0 </b> Entretiens qui n'est pas confirmé</a>
                                        </li>

                                    </ul>
                                    
                                </li>

                            </ul>

                            <div class="others-options d-flex align-items-center">
                                <div class="option-item">
                                    <div class="dropdown profile-nav-item">
                                        <a href="#" class="dropdown-bs-toggle" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            <div class="menu-profile">
                                                <img src="" id="imgNav" class="rounded-circle" alt="image">
                                                <span class="name">Mon Compte</span>
                                            </div>
                                        </a>
            
                                        <div class="dropdown-menu">
                                            <div class="dropdown-header d-flex flex-column align-items-center">
                                                <div class="figure mb-3">
                                                    <img src="" id="imgDEM" class="rounded-circle" alt="image">
                                                </div>
            
                                                <div class="info text-center">
                                                    <span class="name" id="nomDEM"></span>
                                                    <p class="mb-3 email" id="emailDEM"></p>
                                                </div>
                                            </div>
            
                                            <div class="dropdown-body">
                                                <ul class="profile-nav p-0 pt-3">
                                                    <li class="nav-item ">
                                                        <a href="dashboardDemandeur.html" class="nav-link">
                                                            <span class="icon"><i class="ri-home-line"></i></span>
                                                            <span class="menu-title">Tableau De Bord</span>
                                                        </a>
                                                    </li>

                                                    
                                                    <li class="nav-item">
                                                        <a href="modifierProfil.html" class="nav-link">
                                                            <span class="icon"><i class="ri-user-line"></i></span>
                                                            <span class="menu-title">Mon Profil</span>
                                                        </a>
                                                    </li>
                                                </ul>
                                            </div>
            
                                            <div class="dropdown-footer">
                                                <ul class="profile-nav">
                                                    <li class="nav-item">
                                                        <a href="#" onClick="quiterStorge();" class="nav-link"><i class="ri-logout-box-r-line"></i> <span>Deconexion</span></a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </nav>
                </div>
            </div>
            <!-- End Navbar Area -->

            <!-- Breadcrumb Area -->
            <div class="breadcrumb-area">
                <h1>Salut</h1>
                <ol class="breadcrumb">
                    <li class="item" title="Retourner au Accueil"><a href="AccueilDemandeur.html">Accueil</a></li>
                    <li class="item" >Modifier CV</li>
                </ol>
            </div>
            <!-- End Breadcrumb Area -->
            
            <!-- Start Post a New Job Area -->
            <div class="post-a-new-job-box">
                <div class="container">
                    <div class="authentication-tabs-list">
                        <div class="card-body">
                            <ul class="nav nav-tabs" id="myTab" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" id="A-propos-tab" data-bs-toggle="tab" href="#A-propos" role="tab">À propos</a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link" id="Education-tab" data-bs-toggle="tab" href="#Education" role="tab">Éducation</a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link" id="InteretProfessionnel-tab" data-bs-toggle="tab" href="#InteretProfessionnel" role="tab">Carrière</a>
                                </li>

                            </ul>
                        </div>
                    </div>

                    <div class="tab-content" id="myTabContent">
                        <div class="tab-pane fade show active" id="A-propos" role="tabpanel">
                            <div class="products-details-tabs">
                                <ul class="nav nav-tabs" id="myTab" role="tablist">
                                    <li class="nav-item">
                                        <a class="nav-link active" id="Profil-tab" data-bs-toggle="tab" href="#Profil" role="tab">Profil</a>
                                    </li>
            
                                    <li class="nav-item">
                                        <a class="nav-link" id="Informations-tab" data-bs-toggle="tab" href="#Informations" role="tab">Informations</a>
                                    </li>
            
                                    <li class="nav-item">
                                        <a class="nav-link" id="Autre-tab" data-bs-toggle="tab" href="#Autre" role="tab">Autre</a>
                                    </li>
                                </ul>
                            </div>

                            <div class="tab-content" id="myTabContent">
                                <div class="tab-pane fade show active" id="Profil" role="tabpanel">
                                    <div class="eeza-authentication-form">
                                        <form onsubmit="return false" id="formProf">
                                            <div class="row">
            
                                                <div class="col-xl-6 col-lg-12 col-md-12">
                                                    <div class="form-group">
                                                        <label>Nom</label>
                                                        <input name="NomDem" id="NOM_DEM" type="text" class="form-control" placeholder="Entrer votre nom...">
                                                    </div>
                                                </div>
                        
                                                <div class="col-xl-6 col-lg-12 col-md-12">
                                                    <div class="form-group">
                                                        <label>Prénom</label>
                                                        <input id="PRE_DEM" name="PreDem" type="text" class="form-control" placeholder="Entrer votre prénom...">
                                                    </div>
                                                </div>
                        
                                                <div class="col-lg-12 col-md-12">
                                                    <div class="form-group">
                                                        <label>Spécialité</label>
                                                        <input id="SPES_DEM" name="SpeciaDem" type="text" class="form-control" placeholder="Entrer votre spécialité...">
                                                    </div>
                                                </div>
                        
                                                <div class="col-xl-6 col-lg-12 col-md-12">
                                                    <div class="form-group">
                                                        <label>Sexe</label>
                                                        <select id="SEXE_DEM" name="SexeDem" class="form-control">
                                                            <option value="Homme" selected>Homme</option>
                                                            <option value="Femme">Femme</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                
                                                <div class="col-xl-6 col-lg-12 col-md-12">
                                                    <div class="form-group">
                                                        <label>Date de naissance</label>
                                                        <input id="DAT_NAI_DEM" name="DatNaisDem" type="date" class="form-control">
                                                    </div>
                                                </div>
            
                                                <div class="col-lg-12 col-md-12">
                                                    <div class="form-group">
                                                        <label>Description</label>
                                                        <textarea name="DescDem" id="DESC_DEM" cols="30" rows="6" placeholder="Entrer une description sur son profil..." class="form-control"></textarea>
                                                    </div>
                                                </div>
            
                                                <div class="col-lg-12 col-md-12">
                                                    <div class="form-group">
                                                        <label>Photo</label>
                                                        <input id="PHOTO_DEM" name="PhotoDem" type="text" placeholder="Entrer votre photo..." class="form-control" onclick="send()">
                                                    </div>
                                                </div>

                                                
                                            </div>
                                            
                                            <div class="row align-items-center">
                                                <div class="col-lg-8"></div>
                                                <div class="col-lg-2" >
                                                    <button type="submit" class="default-btn BtnModifCV" onclick="modifProfil();">Modifier<i class="ri-pencil-line"></i></button>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            

                                <div class="tab-pane fade" id="Informations" role="tabpanel">
                                    <div class="eeza-authentication-form">
                                        <form onsubmit="return false" id="formInfo">
                                            <div class="row">
            
                                                <div class="col-xl-6 col-lg-12 col-md-12">
                                                    <div class="form-group">
                                                        <label>Numéro de téléphone</label>
                                                        <input name="NumTelDem" id="NUM_TEL_DEM" type="text" class="form-control" placeholder="Entrer votre numéro de téléphone...">
                                                    </div>
                                                </div>
                        
                                                <div class="col-xl-6 col-lg-12 col-md-12">
                                                    <div class="form-group">
                                                        <label>Salaire minimum</label>
                                                        <input id="SAL_MIN_DEM" name="SalMinDem" type="text" class="form-control" placeholder="Entrer un salaire minimum...">
                                                    </div>
                                                </div>
                                                <div class="col-lg-12 col-md-12">
                                                    <div class="row" id="choixPermis">
                                                    </div>
                                                </div>

                                                <div class="col-xl-6 col-lg-12 col-md-12">
                                                    <div class="form-group">
                                                        <label>Adresse</label>
                                                        <input name="AdressDem" id="ADRESSE_DEM" type="text" class="form-control" placeholder="Entrer votre adresse...">
                                                    </div>
                                                </div>
            
                                                <div class="col-xl-6 col-lg-12 col-md-12">
                                                    <div class="form-group">
                                                        <label>Code Postal</label>
                                                        <input name="CPDem" id="COD_POST_DEM" type="text" class="form-control" placeholder="Entrer le code postal...">
                                                    </div>
                                                </div>
            
                                                <div class="col-xl-6 col-lg-12 col-md-12">
                                                    <div class="form-group">
                                                        <label>Ville</label>
                                                        <select name="VilleDem" id="VILLE_DEM" class="form-control">
                                                            <option value="Ariana">Ariana</option>
                                                            <option value="Béja">Béja</option>
                                                            <option value="Ben Arous">Ben Arous</option>
                                                            <option value="Bizerte">Bizerte</option>
                                                            <option value="Gabès">Gabès</option>
                                                            <option value="Gafsa">Gafsa</option>
                                                            <option value="Jendouba">Jendouba</option>
                                                            <option value="Kairouan">Kairouan</option>
                                                            <option value="Kasserine">Kasserine</option>
                                                            <option value="Kebili">Kebili</option>
                                                            <option value="La Manouba">La Manouba</option>
                                                            <option value="Le Kef">Le Kef</option>
                                                            <option value="Mahdia">Mahdia</option>
                                                            <option value="Médenine">Médenine</option>
                                                            <option value="Monastir">Monastir</option>
                                                            <option value="Nabeul">Nabeul</option>
                                                            <option value="Sfax">Sfax</option>
                                                            <option value="Sidi Bouzid">Sidi Bouzid</option>
                                                            <option value="Siliana">Siliana</option>
                                                            <option value="Sousse">Sousse</option>
                                                            <option value="Tataouine">Tataouine</option>
                                                            <option value="Tozeur">Tozeur</option>
                                                            <option value="Tunis">Tunis</option>
                                                            <option value="Zaghouan">Zaghouan</option>
                                                        </select>
                                                    </div>
                                                </div>
            
                                                <div class="col-xl-6 col-lg-12 col-md-12">
                                                    <div class="form-group">
                                                        <label>Pays</label>
                                                        <input id="PAYS_DEM" name="paysDem" type="text" class="form-control" placeholder="Entrer votre pays...">
                                                    </div>
                                                </div>

                                                <div class="col-xl-6 col-lg-12 col-md-12">
                                                    <div class="form-group">
                                                        <label>Linkedin URL</label>
                                                        <input id="URL_LINK_DEM" type="text" class="form-control" placeholder="https://www.linkedin.com/">
                                                    </div>
                                                </div>
            
                                                <div class="col-xl-6 col-lg-12 col-md-12">
                                                    <div class="form-group">
                                                        <label>Facebook URL</label>
                                                        <input id="URL_FB_DEM" type="text" class="form-control" placeholder="https://www.facebook.com/">
                                                    </div>
                                                </div>

                                                
                                            </div>
                                            <div class="row align-items-center">
                                                <div class="col-lg-8"></div>
                                                <div class="col-lg-2" >
                                                    <button type="submit" class="default-btn BtnModifCV" onclick="modifInfo();">Modifier<i class="ri-pencil-line"></i></button>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>

                                <div class="tab-pane fade" id="Autre" role="tabpanel">
                                    <div class="eeza-authentication-form">
                                        <form onsubmit="return false" id="formAutre">
                                            <div class="row">
                                                <div class="col-lg-12 col-md-12">
                                                    <div class="form-group">
                                                        <label>Centre d'intérêt</label>
                                                        <div class="row">
                                                            <div class="col-lg-11 col-md-12">
                                                                <input id="NOM_CI" class="form-control" type="text" placeholder="Entrer votre centres d'intérêts...">
                                                            </div>
                                                            <div id="btnCI" class="col-lg-1 col-md-12">
                                                                <button id="NOM_CI1" type="button" class="bouttonkbir" onclick="ajoutCI();"><i class="ri-add-line"></i></button>
                                                            </div>
                                                        </div> 
                                                    </div>
                                                </div>

                                                <div class="col-lg-12 col-md-12">
                                                    <div id="ListCI" class="job-details-desc">
        
                                                    </div>
                                                </div>

                                                <div class="col-lg-12 col-md-12">
                                                    <div class="form-group">
                                                        <label>Qualité</label>
                                                        <div class="row">
                                                            <div class="col-lg-11 col-md-12">
                                                                <input id="NOM_QUA" class="form-control" type="text" placeholder="Entrer une qualité...">
                                                            </div>
                                                            <div id="btnQUA" class="col-lg-1 col-md-12">
                                                                <button id="NOM_QUA1" type="button" class="bouttonkbir" onclick="ajoutQUA();"><i class="ri-add-line"></i></button>
                                                            </div>
                                                        </div> 
                                                    </div>
                                                </div>

                                                <div class="col-lg-12 col-md-12">
                                                    <div id="ListQUA" class="job-details-desc">
        
                                                    </div>
                                                </div>
                                            </div>

                                            <div id="autreVA">
                                                
                                            </div>

                                            <div class="row align-items-center">
    
                                                <div class="col-lg-12 col-md-6 col-sm-6 lost-your-password-wrap">
                                                    <a onclick="AutreVA();" class="lost-your-password">Ajouter une autre via associative</a>
                                                </div>
                                            </div>
                                            <br>
                                            <div class="row align-items-center">
                                                <div class="col-lg-8"></div>
                                                <div class="col-lg-2" >
                                                    <button type="submit" class="default-btn BtnModifCV" onclick="modifAutreVA();">Modifier<i class="ri-pencil-line"></i></button>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>

                            
                        </div>

                        <div class="tab-pane fade" id="Education" role="tabpanel">
                            <div class="products-details-tabs">
                                <ul class="nav nav-tabs" id="myTab" role="tablist">
                                    <li class="nav-item">
                                        <a class="nav-link active" id="Diplome-tab" data-bs-toggle="tab" href="#Diplome" role="tab">Diplôme</a>
                                    </li>
            
                                    <li class="nav-item">
                                        <a class="nav-link" id="Formation-tab" data-bs-toggle="tab" href="#Formation" role="tab">Formation</a>
                                    </li>
            
                                    <li class="nav-item">
                                        <a class="nav-link" id="AutreComp-tab" data-bs-toggle="tab" href="#AutreComp" role="tab">Autre</a>
                                    </li>
                                </ul>
                            </div>

                            <div class="tab-content" id="myTabContent">
                                <div class="tab-pane fade show active" id="Diplome" role="tabpanel">
                                    <div class="eeza-authentication-form">
                                        <form onsubmit="return false" id="formDip">
                                            <div id="ListDip">
            
                                                
                                            </div>

                                            <div class="row align-items-center">
    
                                                <div class="col-lg-12 col-md-6 col-sm-6 lost-your-password-wrap">
                                                    <a onclick="AutreDIP();" class="lost-your-password">Ajouter un autre diplôme</a>
                                                </div>
                                            </div>
                                            <br>
                                            <div class="row align-items-center">
                                                <div class="col-lg-8"></div>
                                                <div class="col-lg-2" >
                                                    <button type="submit" class="default-btn BtnModifCV" onclick="modifAutreDip();">Modifier<i class="ri-pencil-line"></i></button>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            

                                <div class="tab-pane fade" id="Formation" role="tabpanel">
                                    <div class="eeza-authentication-form">
                                        <form onsubmit="return false" id="formFor">
                                            <div id="ListFor">
            
                                                
                                            </div>

                                            <div class="row align-items-center">
    
                                                <div class="col-lg-12 col-md-6 col-sm-6 lost-your-password-wrap">
                                                    <a onclick="AutreFOR();" class="lost-your-password">Ajouter une autre formation</a>
                                                </div>
                                            </div>
                                            <br>
                                            <div class="row align-items-center">
                                                <div class="col-lg-8"></div>
                                                <div class="col-lg-2" >
                                                    <button type="submit" class="default-btn BtnModifCV" onclick="modifAutreFor();">Modifier<i class="ri-pencil-line"></i></button>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>

                                <div class="tab-pane fade" id="AutreComp" role="tabpanel">
                                    <div class="eeza-authentication-form">
                                        <form onsubmit="return false" id="formCompLang">
                                            <div class="row">
                                                <div class="col-lg-12 col-md-12">
                                                    <div class="form-group">
                                                        <label>Langues</label>
                                                        <select id="NOM_LANG" name="langSelect" class="form-control" onchange="change_valeurLang();">
                                                            <option selected disabled>Choisir une langue...</option>
                                                            <option value="1">Autre</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                
                                                <div class="row" id="autreLang"></div>
                        
                                                <div class="col-lg-12 col-md-12">
                                                    <div id="ListLang" class="job-details-desc">
        
                                                    </div>
                                                </div>

                                                <div class="col-lg-12 col-md-12">
                                                    <div class="form-group">
                                                        <label>Compétences</label>
                                                        <select id="NOM_COMP" name="compSelect" class="form-control" onchange="change_valeurComp();">
                                                            <option selected disabled>Choisir une compétence...</option>
                                                            <option value="1">Autre</option>
                                                        </select>
                                                    </div>
                                                </div>
        
                                                <div class="row" id="autreComp"></div>
        
                                                <div class="col-lg-12 col-md-12">
                                                    <div id="ListComp" class="job-details-desc">
        
                                                    </div>
                                                </div>
                                            </div>
                                            <br>
                                            <div class="row align-items-center">
                                                <div class="col-lg-8"></div>
                                                <div class="col-lg-2" >
                                                    <button type="submit" class="default-btn BtnModifCV" onclick="modifAutreCL();">Modifier<i class="ri-pencil-line"></i></button>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="tab-pane fade" id="InteretProfessionnel" role="tabpanel">
                            <div class="products-details-tabs">
                                <ul class="nav nav-tabs" id="myTab" role="tablist">
                                    <li class="nav-item">
                                        <a class="nav-link active" id="Experience-tab" data-bs-toggle="tab" href="#Experience" role="tab">Expérience</a>
                                    </li>
            
                                    <li class="nav-item">
                                        <a class="nav-link" id="Projet-tab" data-bs-toggle="tab" href="#Projet" role="tab">Projet</a>
                                    </li>
            
                                    <li class="nav-item">
                                        <a class="nav-link" id="Certification-tab" data-bs-toggle="tab" href="#Certification" role="tab">Certification</a>
                                    </li>
                                </ul>
                            </div>

                            <div class="tab-content" id="myTabContent">
                                <div class="tab-pane fade show active" id="Experience" role="tabpanel">
                                    <div class="eeza-authentication-form">
                                        <form onsubmit="return false" id="formExp">
                                            <div id="ListExp">
            
                                               
                                            </div>

                                            <div class="row align-items-center">
    
                                                <div class="col-lg-12 col-md-6 col-sm-6 lost-your-password-wrap">
                                                    <a onclick="AutreEXP();" class="lost-your-password">Ajouter une autre expérience</a>
                                                </div>
                                            </div>
                                            <br>
                                            <div class="row align-items-center">
                                                <div class="col-lg-8"></div>
                                                <div class="col-lg-2" >
                                                    <button type="submit" class="default-btn BtnModifCV" onclick="modifAutreExp();">Modifier<i class="ri-pencil-line"></i></button>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            

                                <div class="tab-pane fade" id="Projet" role="tabpanel">
                                    <div class="eeza-authentication-form">
                                        <form onsubmit="return false" id="formProj">
                                            <div id="ListProj">
            
                                                
                                            </div>

                                            <div class="row align-items-center">
    
                                                <div class="col-lg-12 col-md-6 col-sm-6 lost-your-password-wrap">
                                                    <a onclick="AutreProj();" class="lost-your-password">Ajouter un autre projet</a>
                                                </div>
                                            </div>
                                            <br>
                                            <div class="row align-items-center">
                                                <div class="col-lg-8"></div>
                                                <div class="col-lg-2" >
                                                    <button type="submit" class="default-btn BtnModifCV" onclick="modifAutreProj();">Modifier<i class="ri-pencil-line"></i></button>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>

                                <div class="tab-pane fade" id="Certification" role="tabpanel">
                                    <div class="eeza-authentication-form">
                                        <form onsubmit="return false" id="formCert">
                                            <div id="ListCert">
                                                
                                            </div>

                                            <div class="row align-items-center">
    
                                                <div class="col-lg-12 col-md-6 col-sm-6 lost-your-password-wrap">
                                                    <a onclick="AutreCERT();" class="lost-your-password">Ajouter une autre certification</a>
                                                </div>
                                            </div>
                                            <br>
                                            <div class="row align-items-center">
                                                <div class="col-lg-8"></div>
                                                <div class="col-lg-2" >
                                                    <button type="submit" class="default-btn BtnModifCV" onclick="modifAutreCert();">Modifier<i class="ri-pencil-line"></i></button>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            


              <!-- Start Go Top Area -->
            <div class="go-top">
                <i class="ri-arrow-up-line"></i>
            </div>
            <!-- End Go Top Area -->


        </div>
        <!-- End Main Dashboard Content Wrapper Area -->
        
        <!-- Start Copyright Area -->
        <div class="footerCopy" >
            <div class="row">
                <div class="col-lg-12 col-md-12">
                    <p><i class="ri-copyright-line"></i> 2021-2022 <a href="#"> Demandeur d’emploi </a>. </p>
                </div>
            </div>
        </div>
        
        <!-- Links of JS files -->
        <script src="assets/js/jquery.min.js"></script>
        <script src="assets/js/bootstrap.bundle.min.js"></script>
        <script src="assets/js/jquery.meanmenu.js"></script> 
        <script src="assets/js/owl.carousel.min.js"></script>
        <script src="assets/js/jquery.appear.js"></script>
        <script src="assets/js/odometer.min.js"></script>
        <script src="assets/js/jquery.magnific-popup.min.js"></script>
        <script src="assets/js/fancybox.min.js"></script>
        <script src="assets/js/selectize.min.js"></script>
        <script src="assets/js/TweenMax.min.js"></script>
        <script src="assets/js/aos.js"></script>
        <script src="assets/js/metismenu.min.js"></script>
        <script src="assets/js/simplebar.min.js"></script>
        <script src="assets/js/dropzone.min.js"></script>
        <script src="assets/js/sticky-sidebar.min.js"></script>
		<script src="assets/js/jquery.ajaxchimp.min.js"></script>
		<script src="assets/js/form-validator.min.js"></script>
        <script src="assets/js/contact-form-script.js"></script>
        <script src="assets/js/wow.min.js"></script>
        <script src="assets/js/main.js"></script>
        <script src="assets/js/supprmierProfilDEM.js"></script>
        <!--notifci-->
        <script src="assets/js/notificationDEM.js"></script>
        <script src="assets/js/modelCV.js"></script>
        <!--validation-->
         <script src="assets/js/jquery.validate.min.js"></script>
         <script src="assets/js/additional-methods.min.js"></script>
        
         <!--alert-->
         <script src="https://unpKg.com/sweetalert/dist/sweetalert.min.js"></script>
         <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
         <script>
            function send() {
              var i = document.getElementById("PHOTO_DEM");
              const apikey = "AnPRsl9JkTZKL3Hp9hwzxz";
              const client = filestack.init(apikey);
              const options = {
                maxFiles: 20,
                uploadInBackground: false,
                onOpen: () => console.log("opened!"),
                onUploadDone: (res) => (i.value = res.filesUploaded[0].url),
              };
              client.picker(options).open();
            }
          </script>
         <script>
            var idDEM=localStorage.getItem("ID_DEM");

            var request = new XMLHttpRequest()
            // Open a new connection, using the GET request on the URL endpoint
            request.open('GET', 'http://192.168.43.96:3000/demandeurs/'+ idDEM, true)
            
            request.onload = function() {
                // Begin accessing JSON data here
                var data = JSON.parse(this.response)
                document.getElementById("PHOTO_DEM").value = data.PHOTO_DEM;
                document.getElementById("NOM_DEM").value = data.NOM_DEM;
                document.getElementById("PRE_DEM").value = data.PRE_DEM;
                document.getElementById("SEXE_DEM").value = data.SEXE_DEM;
                document.getElementById("DAT_NAI_DEM").value = data.DAT_NAI_DEM;
                document.getElementById("VILLE_DEM").value = data.VILLE_DEM;
                document.getElementById("PAYS_DEM").value = data.PAYS_DEM;
                document.getElementById("ADRESSE_DEM").value = data.ADRESSE_DEM;
                document.getElementById("NUM_TEL_DEM").value = data.NUM_TEL_DEM;
                document.getElementById("COD_POST_DEM").value = data.COD_POST_DEM;
                if (data.PERMIS_COND_DEM=="1"){
                    ch=`<div class="col-xl-6 col-lg-12 col-md-12">
                            <div class="form-group">
                                <label>Permis</label>
                                <select id="PERMIS_COND_DEM" name="permisDem" class="form-control" onchange="typPermis();">
                                    <option value="1" selected>Oui</option>
                                    <option value="0">Non</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-xl-6 col-lg-12 col-md-12">
                            <div class="form-group">
                                <label>Type de permis</label>
                                <select id="TYPE_PERMIS_DEM" name="typPermisDem" class="form-control">
                                    <option selected disabled>Choisir un type de permis...</option>
                                    <option value="A1">A1</option>
                                    <option value="A">A</option>
                                    <option value="B+E">B+E</option>
                                    <option value="C">C</option>
                                    <option value="C+E">C+E</option>
                                    <option value="D">D</option>
                                    <option value="D1">D1</option>
                                    <option value="D+E">D+E</option>
                                    <option value="H">H</option>
                                </select>
                            </div>
                        </div>`;
                    document.getElementById("choixPermis").innerHTML=ch;
                }else{
                    ch=`<div class="col-lg-12 col-md-12">
                            <div class="form-group">
                                <label>Permis</label>
                                <select id="PERMIS_COND_DEM" name="permisDem" class="form-control" onchange="typPermis();">
                                    <option value="1" >Oui</option>
                                    <option value="0" selected>Non</option>
                                </select>
                            </div>
                        </div>`;
                    document.getElementById("choixPermis").innerHTML=ch;
                }
                if (data.PERMIS_COND_DEM == "Oui"){
                    document.getElementById("PERMIS_COND_DEM").value = data.PERMIS_COND_DEM;
                    document.getElementById("TYPE_PERMIS_DEM").value = data.TYPE_PERMIS_DEM;
                }else{
                    document.getElementById("PERMIS_COND_DEM").value = data.PERMIS_COND_DEM;
                }
                
                document.getElementById("SAL_MIN_DEM").value = data.SAL_MIN_DEM;
                document.getElementById("URL_LINK_DEM").value = data.URL_LINK_DEM;
                document.getElementById("DESC_DEM").value = data.DESC_DEM;
                document.getElementById("SPES_DEM").value = data.SPES_DEM;
                document.getElementById("URL_FB_DEM").value = data.URL_FB_DEM;
            }
            request.send();
            // Open a new connection, using the GET request on the URL endpoint
            var requestL = new XMLHttpRequest();
            requestL.open('GET', "http://192.168.43.96:3000/langues", true);
            requestL.onload = function()
            {
                // Begin accessing JSON data here
                var dataL = JSON.parse(this.response);
                var selectLang = document.getElementById("NOM_LANG");
                var nbselectLang=2;
                dataL.forEach(j => {
                    ch=`<option value="`+nbselectLang+`">`+j.NOM_LANG+`</option>`;
                    selectLang.insertAdjacentHTML('beforeend',ch);
                    nbselectLang +=1;
                })
            }
            requestL.send();

            // Open a new connection, using the GET request on the URL endpoint
            var requestC = new XMLHttpRequest();
            requestC.open('GET', "http://192.168.43.96:3000/competences", true);
            requestC.onload = function()
            {
                // Begin accessing JSON data here
                var dataC = JSON.parse(this.response);
                var selectComp = document.getElementById("NOM_COMP");
                var nbselectComp=2;
                dataC.forEach(j => {
                    ch=`<option value="`+nbselectComp+`">`+j.NOM_COMP+`</option>`;
                    selectComp.insertAdjacentHTML('beforeend',ch);
                    nbselectComp +=1;
                })
            }
            requestC.send();

            var dateAuj = new Date();
            var datemonthAuj = '';
            var datejourAuj ='';
            if ((dateAuj.getMonth()+1)<10){
                datemonthAuj = '0'+(dateAuj.getMonth()+1);
            }else {
                datemonthAuj = (dateAuj.getMonth()+1);
            }
            if ((dateAuj.getDate())<10){
                datejourAuj = '0'+(dateAuj.getDate());
            }else {
                datejourAuj = (dateAuj.getDate());
            }
    
            var abcAuj = (dateAuj.getFullYear()-18) +'-'+ (datemonthAuj) +'-'+ (datejourAuj);
            document.getElementById("DAT_NAI_DEM").max = abcAuj;

            

            function typPermis(){
                if(document.getElementById("PERMIS_COND_DEM").value=="1"){
                    ch=`<div class="col-xl-6 col-lg-12 col-md-12">
                            <div class="form-group">
                                <label>Permis</label>
                                <select id="PERMIS_COND_DEM" name="permisDem" class="form-control" onchange="typPermis();">
                                    <option value="1" selected>Oui</option>
                                    <option value="0">Non</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-xl-6 col-lg-12 col-md-12">
                            <div class="form-group">
                                <label>Type de permis</label>
                                <select id="TYPE_PERMIS_DEM" name="typPermisDem" class="form-control">
                                    <option selected disabled>Choisir un type de permis...</option>
                                    <option value="A1">A1</option>
                                    <option value="A">A</option>
                                    <option value="B+E">B+E</option>
                                    <option value="C">C</option>
                                    <option value="C+E">C+E</option>
                                    <option value="D">D</option>
                                    <option value="D1">D1</option>
                                    <option value="D+E">D+E</option>
                                    <option value="H">H</option>
                                </select>
                            </div>
                        </div>`;
                    document.getElementById("choixPermis").innerHTML=ch;
                }
                if(document.getElementById("PERMIS_COND_DEM").value=="0")
                {
                    ch=`<div class="col-lg-12 col-md-12">
                            <div class="form-group">
                                <label>Permis</label>
                                <select id="PERMIS_COND_DEM" name="permisDem" class="form-control" onchange="typPermis();">
                                    <option value="1" >Oui</option>
                                    <option value="0" selected>Non</option>
                                </select>
                            </div>
                        </div>`;
                    document.getElementById("choixPermis").innerHTML=ch;
                }
            }

            // Open a new connection, using the GET request on the URL endpoint
            var requestCI = new XMLHttpRequest();
            requestCI.open('GET', "http://192.168.43.96:3000/centresinterets", true);
            requestCI.onload = function()
            {
                var dataCI = JSON.parse(this.response);
                dataCI.forEach(h => {
                    if(h.ID_DEMANDEUR== idDEM){
                        var listCI = document.getElementById("ListCI").getElementsByTagName("div");
                        if (listCI.length == 0){
                            ch=`<div class="job-article-footer">
                                    <div id="plusieurA_listCI" class="article-tags">
                                        <span>Liste des centres d'intérêt:</span>
                                        <a id="`+h._id+`" onclick="delete_a('ListCI','plusieurA_listCI','NOM_CI','`+h._id+`','btnCI','ajoutCI();','centresinterets');" title="Modifier ou Supprimer">`+h.NOM_CI+`</a>
                                    </div>
                                </div>`;
                            document.getElementById("ListCI").innerHTML= ch;
                        }else{
                            ch=`<a id="`+h._id+`" onclick="delete_a('ListCI','plusieurA_listCI','NOM_CI','`+h._id+`','btnCI','ajoutCI();','centresinterets');" title="Modifier ou Supprimer">`+h.NOM_CI+`</a>`;
                            document.getElementById("plusieurA_listCI").insertAdjacentHTML('beforeend',ch);
                        }
                    }
                })
            }
            requestCI.send();

            var nbCenInter =0;
            function ajoutCI(){
                if(document.getElementById("NOM_CI").value ==""){
                    Swal.fire({
                        title:"Entrer un centre d'intérêt tout d'abbord",
                        icon:'warning',
                        showConfirmButton:false,
                        timer:1800
                    })
                }else{
                    var listCenTint = document.getElementById("ListCI").getElementsByTagName("div");
                    var chaine ="CI";
                    var contCI = chaine + nbCenInter;
                    if (listCenTint.length == 0){
                        ch=`<div class="job-article-footer">
                                <div id="plusieurA_listCI" class="article-tags">
                                    <span>Liste des centres d'intérêt:</span>
                                    <a id="`+contCI+`" onclick="delete_a('ListCI','plusieurA_listCI','NOM_CI','`+contCI+`','btnCI','ajoutCI();','centresinterets');" title="Modifier ou Supprimer">`+document.getElementById("NOM_CI").value+`</a>
                                </div>
                            </div>`;
                        document.getElementById("ListCI").innerHTML= ch;
                        document.getElementById("NOM_CI").value = "";
                        nbCenInter +=1;
                    }else{
                        var ci=document.getElementById("NOM_CI").value;
                        ch=`<a id="`+contCI+`" onclick="delete_a('ListCI','plusieurA_listCI','NOM_CI','`+contCI+`','btnCI','ajoutCI();','centresinterets');" title="Modifier ou Supprimer">`+ci+`</a>`;
                        document.getElementById("plusieurA_listCI").insertAdjacentHTML('beforeend',ch);
                        document.getElementById("NOM_CI").value = "";
                        nbCenInter +=1;
                    } 
                }
            }

            // Open a new connection, using the GET request on the URL endpoint
            var requestQUA = new XMLHttpRequest();
            requestQUA.open('GET', "http://192.168.43.96:3000/qualites", true);
            requestQUA.onload = function()
            {
                var dataQUA = JSON.parse(this.response);
                dataQUA.forEach(qa => {
                    if(qa.ID_DEMANDEUR== idDEM){
                        var listQua = document.getElementById("ListQUA").getElementsByTagName("div");
                        if (listQua.length == 0){
                            ch=`<div class="job-article-footer">
                                    <div id="plusieurA_listQua" class="article-tags">
                                        <span>Liste des centres d'intérêt:</span>
                                        <a id="`+qa._id+`" onclick="delete_a('ListQUA','plusieurA_listQua','NOM_QUA','`+qa._id+`','btnQUA','ajoutQUA();','qualites');" title="Modifier ou Supprimer">`+qa.NOM_QUA+`</a>
                                    </div>
                                </div>`;
                            document.getElementById("ListQUA").innerHTML= ch;
                        }else{
                            ch=`<a id="`+qa._id+`" onclick="delete_a('ListQUA','plusieurA_listQua','NOM_QUA','`+qa._id+`','btnQUA','ajoutQUA();','qualites');" title="Modifier ou Supprimer">`+qa.NOM_QUA+`</a>`;
                            document.getElementById("plusieurA_listQua").insertAdjacentHTML('beforeend',ch);
                        }
                    }
                })
            }
            requestQUA.send();

            var nbQualit =0;
            function ajoutQUA(){
                if(document.getElementById("NOM_QUA").value ==""){
                    Swal.fire({
                        title:"Entrer une qualité tout d'abbord",
                        icon:'warning',
                        showConfirmButton:false,
                        timer:1800
                    })
                }else{
                    var listQualit = document.getElementById("ListQUA").getElementsByTagName("div");
                    var chaine ="Qua";
                    var contQua = chaine + nbQualit;
                    if (listQualit.length == 0){
                        ch=`<div class="job-article-footer">
                                <div id="plusieurA_listQua" class="article-tags">
                                    <span>Liste des qualités:</span>
                                    <a id="`+contCI+`" onclick="delete_a('ListQUA','plusieurA_listQua','NOM_QUA','`+contQua+`','btnQUA','ajoutQUA();','qualites');" title="Modifier ou Supprimer">`+document.getElementById("NOM_QUA").value+`</a>
                                </div>
                            </div>`;
                        document.getElementById("ListQUA").innerHTML= ch;
                        document.getElementById("NOM_QUA").value = "";
                        nbQualit +=1;
                    }else{
                        var qa=document.getElementById("NOM_CI").value;
                        ch=`<a id="`+contCI+`" onclick="delete_a('ListQUA','plusieurA_listQua','NOM_QUA','`+contQua+`','btnQUA','ajoutQUA();','qualitess');" title="Modifier ou Supprimer">`+ci+`</a>`;
                        document.getElementById("plusieurA_listQua").insertAdjacentHTML('beforeend',ch);
                        document.getElementById("NOM_QUA").value = "";
                        nbQualit +=1;
                    } 
                }
            }

            var nbVA=0;
            // Open a new connection, using the GET request on the URL endpoint
            var requestVA = new XMLHttpRequest();
            requestVA.open('GET', "http://192.168.43.96:3000/vieassociatives", true);
            requestVA.onload = function()
            {
                var dataVA = JSON.parse(this.response);
                
                dataVA.forEach(va => {
                    if(va.ID_DEMANDEUR== idDEM){
                       ch=`<span id=`+va._id+`>
                                <div class="row">
                                    <div class="col-xl-6 col-lg-12 col-md-12">
                                        <div class="form-group">
                                            <label>Nom de Vie Associative</label>
                                            <input name="NomVA" id="NOM_VA`+nbVA+`" type="text" placeholder="Entrer le nom de Vie Associative..." class="form-control" value="`+va.NOM_VA+`">
                                        </div>
                                    </div>

                                    <div class="col-xl-6 col-lg-12 col-md-12">
                                        <div class="form-group">
                                            <label>Position de Vie Associative</label>
                                            <input name="PosVA" id="POSITION_VA`+nbVA+`" type="text" placeholder="Entrer le position Vie Associative..." class="form-control" value="`+va.POSITION_VA+`">
                                        </div>
                                    </div>

                                    <div class="col-xl-6 col-lg-12 col-md-12">
                                        <div class="form-group">
                                            <label>Date Début de Vie Associative</label>
                                            <input name="DatDebVA" id="DAT_DEB_VA`+nbVA+`" type="date" class="form-control" placeholder="Entrer la date début de Vie Associative..." value="`+va.DAT_DEB_VA+`">
                                        </div>
                                    </div>

                                    <div class="col-xl-6 col-lg-12 col-md-12">
                                        <div class="form-group">
                                            <label>Date Fin de Vie Associative</label>
                                            <input name="DatFinVA" id="DAT_FIN_VA`+nbVA+`" type="date" class="form-control" placeholder="Entrer la date fin de Vie Associative..." value="`+va.DAT_FIN_VA+`">
                                        </div>
                                    </div>
                                </div>
                                <div class="post"> </div> 
                            </span>`;
                        document.getElementById("autreVA").insertAdjacentHTML('beforeend',ch);
                        nbVA+=1;
                    }
                })
            }
            requestVA.send();

            var nbExp=0;
            // Open a new connection, using the GET request on the URL endpoint
            var requestExp = new XMLHttpRequest();
            requestExp.open('GET', "http://192.168.43.96:3000/experiences", true);
            requestExp.onload = function()
            {
                var dataExp = JSON.parse(this.response);
                
                dataExp.forEach(ep => {
                    if(ep.ID_DEMANDEUR== idDEM){
                       ch=`<span id=`+ep._id+`>
                                <div class="row">
                                    <div class="col-lg-12 col-md-12">
                                        <div class="form-group">
                                            <label>Nom Entreprise de l'Expérience</label>
                                            <input name="NomEntExp" id="NOM_ENT_EXP`+nbExp+`" type="text" class="form-control" placeholder="Entrer le nom de l'entreprise..." value="`+ep.NOM_ENT_EXP+`">
                                        </div>
                                    </div>

                                    <div class="col-lg-12 col-md-12">
                                        <div class="form-group">
                                            <label>Nom de l'Expérience</label>
                                            <input name="typExp" id="TYPE_EXP`+nbExp+`" type="text" class="form-control" placeholder="Entrer le nom de l'expérience..." value="`+ep.TYPE_EXP+`">
                                        </div>
                                    </div>

                                    <div class="col-lg-12 col-md-12">
                                        <div class="form-group">
                                            <label>Position de l'Expérience</label>
                                            <input name="posExp" id="POSITION_EXP`+nbExp+`" type="text" class="form-control" placeholder="Entrer la position de l'expérience..." value="`+ep.POSITION_EXP+`">
                                        </div>
                                    </div>

                                    <div class="col-lg-12 col-md-12">
                                        <div class="form-group">
                                            <label>Description</label>
                                            <textarea name="descExp" id="DESC_EXP`+nbExp+`" cols="30" rows="6" placeholder="Entrer une description sur l'expérience..." class="form-control">`+ep.DESC_EXP+`</textarea>
                                        </div>
                                    </div>

                                    <div class="col-lg-12 col-md-12">
                                        <div class="form-group">
                                            <label>Outils Utilisés</label>
                                            <input name="outExp" id="OUTIL_EXP`+nbExp+`" type="text" class="form-control" placeholder="Entrer les outils utilisés..." value="`+ep.OUTIL_EXP+`">
                                        </div>
                                    </div>

                                    <div class="col-xl-6 col-lg-12 col-md-12">
                                        <div class="form-group">
                                            <label>Date Début de l'Expérience</label>
                                            <input name="DatDebExp" id="DAT_DEB_EXP`+nbExp+`" type="date" class="form-control" placeholder="Entrer la date début de l'expérience..." value="`+ep.DAT_DEB_EXP+`">
                                        </div>
                                    </div>

                                    <div class="col-xl-6 col-lg-12 col-md-12">
                                        <div class="form-group">
                                            <label>Date Fin de l'Expérience</label>
                                            <input name="DatFinExp" id="DAT_FIN_EXP`+nbExp+`" type="date" class="form-control" placeholder="Entrer la date fin de l'expérience..." value="`+ep.DAT_FIN_EXP+`">
                                        </div>
                                    </div>
                                </div>
                                <div class="post"></div> 
                            </span>`;
                        document.getElementById("ListExp").insertAdjacentHTML('beforeend',ch);
                        nbExp+=1;
                    }
                })
            }
            requestExp.send();

            var nbProj=0;
            // Open a new connection, using the GET request on the URL endpoint
            var requestProj = new XMLHttpRequest();
            requestProj.open('GET', "http://192.168.43.96:3000/projets", true);
            requestProj.onload = function()
            {
                var dataProj = JSON.parse(this.response);
                
                dataProj.forEach(pj => {
                    if(pj.ID_DEMANDEUR== idDEM){
                       ch=`<span id=`+pj._id+`>
                                <div class="row">
                                    <div class="col-lg-12 col-md-12">
                                        <div class="form-group">
                                            <label>Nom de Projet</label>
                                            <input name="NomProj" id="NOM_PROJ`+nbProj+`" type="text" placeholder="Entrer le nom de Projet..." class="form-control" value="`+pj.NOM_PROJ+`">
                                        </div>
                                    </div>

                                    <div class="col-lg-12 col-md-12">
                                        <div class="form-group">
                                            <label>Type de Projet</label>
                                            <input name="TypProj" id="TYPE_PROJ`+nbProj+`" type="text" class="form-control" placeholder="Entrer le type de Projet..." value="`+pj.TYPE_PROJ+`">
                                        </div>
                                    </div>

                                    <div class="col-lg-12 col-md-12">
                                        <div class="form-group">
                                            <label>Description sur le Projet</label>
                                            <textarea name="DescProj" id="DESC_PROJ`+nbProj+`" cols="30" rows="6" placeholder="Entrer une description sur le Projet..." class="form-control">`+pj.DESC_PROJ+`</textarea>
                                        </div>
                                    </div>

                                    <div class="col-lg-12 col-md-12">
                                        <div class="form-group">
                                            <label>Outils utilisés</label>
                                            <input name="OutProj" id="OUTIL_PROJ`+nbProj+`" type="text" class="form-control" placeholder="Entrer les outils utilisés sur le Projet..." value="`+pj.OUTIL_PROJ+`">
                                        </div>
                                    </div>

                                    <div class="col-xl-6 col-lg-12 col-md-12">
                                        <div class="form-group">
                                            <label>Date Début de Projet</label>
                                            <input name="DatDebProj" id="DAT_DEB_PROJ`+nbProj+`" type="date" class="form-control" placeholder="Entrer la date début de Projet..." value="`+pj.DAT_DEB_PROJ+`">
                                        </div>
                                    </div>

                                    <div class="col-xl-6 col-lg-12 col-md-12">
                                        <div class="form-group">
                                            <label>Date Fin de Projet</label>
                                            <input name="DatFinProj" id="DAT_FIN_PROJ`+nbProj+`" type="date" class="form-control" placeholder="Entrer la date fin de Projet..." value="`+pj.DAT_FIN_PROJ+`">
                                        </div>
                                    </div>
                                </div>
                                <div class="post"></div> 
                            </span>`;
                        document.getElementById("ListProj").insertAdjacentHTML('beforeend',ch);
                        nbProj+=1;
                    }
                })
            }
            requestProj.send();

            var nbCert=0;
            // Open a new connection, using the GET request on the URL endpoint
            var requestCert = new XMLHttpRequest();
            requestCert.open('GET', "http://192.168.43.96:3000/certifications", true);
            requestCert.onload = function()
            {
                var dataCert = JSON.parse(this.response);
                
                dataCert.forEach(ce => {
                    if(ce.ID_DEMANDEUR== idDEM){
                       ch=`<span id=`+ce._id+`>
                                <div class="row">
                                    <div class="col-lg-12 col-md-12">
                                        <div class="form-group">
                                            <label>Nom de Certificat</label>
                                            <input name="NomCert" id="NOM_CERT`+nbCert+`" type="text" placeholder="Entrer le nom de Certificat..." class="form-control" value="`+ce.NOM_CERT+`">
                                        </div>
                                    </div>

                                    <div class="col-lg-12 col-md-12">
                                        <div class="form-group">
                                            <label>Référence de Certificat</label>
                                            <input name="RefCert" id="REF_CERT`+nbCert+`" type="text" class="form-control" placeholder="Entrer la référence de Certificat..." value="`+ce.REF_CERT+`">
                                        </div>
                                    </div>

                                    <div class="col-lg-12 col-md-12">
                                        <div class="form-group">
                                            <label>Description sur la Certificat</label>
                                            <textarea name="DescCert" id="DESC_CERT`+nbCert+`" cols="30" rows="6" placeholder="Entrer une description sur la Certificat..." class="form-control">`+ce.DESC_CERT+`</textarea>
                                        </div>
                                    </div>
                                </div>
                                <div class="post"></div> 
                            </span>`;
                        document.getElementById("ListCert").insertAdjacentHTML('beforeend',ch);
                        nbCert+=1;
                    }
                })
            }
            requestCert.send();

            var nbDip=0;
            // Open a new connection, using the GET request on the URL endpoint
            var requestDipDem = new XMLHttpRequest();
            requestDipDem.open('GET', "http://192.168.43.96:3000/diplomedemandeurs", true);
            requestDipDem.onload = function()
            {
                var dataDipDem = JSON.parse(this.response);
                dataDipDem.forEach(diD => {
                    if(diD.ID_DEMANDEUR== idDEM){
                        var requestDip = new XMLHttpRequest();
                        requestDip.open('GET', "http://192.168.43.96:3000/diplomes/"+diD.ID_DIPLOME, true);
                        requestDip.onload = function()
                        {
                            var dataDip = JSON.parse(this.response);
                            if(diD.ID_DIPLOME== dataDip._id){
                                ch=`<span id=`+diD._id+`>
                                        <div class="row">
                                            <div class="col-lg-12 col-md-12">
                                                <div class="form-group">
                                                    <label>Type de Diplôme</label>
                                                    <select name="TypDip" id="TYPE_DIP`+nbDip+`" class="form-control" onchange="typeDiplome('TYPE_DIP`+nbDip+`','changetypeDip`+nbDip+`');">
                                                        <option value="1">Autre</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-lg-12 col-md-12" id="changetypeDip`+nbDip+`">
                                            </div>

                                            <div class="col-lg-12 col-md-12">
                                                <div class="form-group">
                                                    <label>Nom École de Diplôme</label>
                                                    <input name="NomEcolDip" id="NOM_ECOL_DIP`+nbDip+`" type="text" placeholder="Entrer le nom de l'école..." class="form-control" value="`+diD.NOM_ECOL_DIP+`">
                                                </div>
                                            </div>

                                            <div class="col-lg-12 col-md-12">
                                                <div class="form-group">
                                                    <label>Spécialité de Diplôme</label>
                                                    <input name="SpecDip" id="SPECIA_DIP`+nbDip+`" type="text" class="form-control" placeholder="Entrer la spécialité de diplôme..." value="`+diD.SPECIA_DIP+`">
                                                </div>
                                            </div>

                                            <div class="col-xl-6 col-lg-12 col-md-12">
                                                <div class="form-group">
                                                    <label>Date Début de Diplôme</label>
                                                    <input name="DatDebDip" id="DAT_DEB_DIP`+nbDip+`" type="date" class="form-control" placeholder="Entrer la date début de diplôme..." value="`+diD.DAT_DEB_DIP+`">
                                                </div>
                                            </div>

                                            <div class="col-xl-6 col-lg-12 col-md-12">
                                                <div class="form-group">
                                                    <label>Date Fin de Diplôme</label>
                                                    <input name="DatFinDip" id="DAT_FIN_DIP`+nbDip+`" type="date" class="form-control" placeholder="Entrer la date fin de diplôme..." value="`+diD.DAT_FIN_DIP+`">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="post"></div> 
                                    </span>`;
                                document.getElementById("ListDip").insertAdjacentHTML('beforeend',ch);
                                
                            }
                        
                            var x = "TYPE_DIP"+nbDip;
                            // Open a new connection, using the GET request on the URL endpoint
                            var requestD = new XMLHttpRequest();
                            requestD.open('GET', "http://192.168.43.96:3000/diplomes", true);
                            requestD.onload = function()
                            {
                                // Begin accessing JSON data here
                                var dataD = JSON.parse(this.response);
                                dataD.forEach(j => {
                                    if ( j._id == diD.ID_DIPLOME){
                                        ch=`<option value="`+j._id+`" selected>`+j.TYPE_DIP+`</option>`;
                                        document.getElementById(x).insertAdjacentHTML('beforeend',ch);
                                    }else{
                                        ch=`<option value="`+j._id+`">`+j.TYPE_DIP+`</option>`;
                                        document.getElementById(x).insertAdjacentHTML('beforeend',ch);
                                    }
                                })
                            }
                            requestD.send();
                            nbDip+=1;
                        }
                        requestDip.send();
                    }
                })
            }
            requestDipDem.send();

            var nbFor=0;
            // Open a new connection, using the GET request on the URL endpoint
            var requestFor = new XMLHttpRequest();
            requestFor.open('GET', "http://192.168.43.96:3000/formations", true);
            requestFor.onload = function()
            {
                var dataFor = JSON.parse(this.response);
                
                dataFor.forEach(fr => {
                    if(fr.ID_DEMANDEUR== idDEM){
                       ch=`<span id=`+fr._id+`>
                                <div class="row">
                                    <div class="col-lg-12 col-md-12">
                                        <div class="form-group">
                                            <label>Nom de Formation</label>
                                            <input name="Nomform" id="NOM_FOR`+nbFor+`" type="text" placeholder="Entrer le nom de formation..." class="form-control" value="`+fr.NOM_FOR+`">
                                        </div>
                                    </div>

                                    <div class="col-lg-12 col-md-12">
                                        <div class="form-group">
                                            <label>Description sur la Formation</label>
                                            <textarea name="DescForm" id="DESC_FOR`+nbFor+`" cols="30" rows="6" placeholder="Entrer une description sur la formation..." class="form-control">`+fr.DESC_FOR+`</textarea>
                                        </div>
                                    </div>

                                    <div class="col-xl-6 col-lg-12 col-md-12">
                                        <div class="form-group">
                                            <label>Date Début de Formation</label>
                                            <input name="DatDebForm" id="DAT_DEB_FOR`+nbFor+`" type="date" class="form-control" placeholder="Entrer la date début de formation..." value="`+fr.DAT_DEB_FOR+`">
                                        </div>
                                    </div>

                                    <div class="col-xl-6 col-lg-12 col-md-12">
                                        <div class="form-group">
                                            <label>Date Fin de Formation</label>
                                            <input name="DatFinForm" id="DAT_FIN_FOR`+nbFor+`" type="date" class="form-control" placeholder="Entrer la date fin de formation..." value="`+fr.DAT_FIN_FOR+`">
                                        </div>
                                    </div>
                                </div>
                                <div class="post"></div> 
                            </span>`;
                        document.getElementById("ListFor").insertAdjacentHTML('beforeend',ch);
                        nbFor+=1;
                    }
                })
            }
            requestFor.send();

            // Open a new connection, using the GET request on the URL endpoint
            var requestLNivDem = new XMLHttpRequest();
            requestLNivDem.open('GET', "http://192.168.43.96:3000/languedemandeurs", true);
            requestLNivDem.onload = function()
            {
                dataLND = JSON.parse(this.response);
                dataLND.forEach(nvd => {
                    if(nvd.ID_DEMANDEUR== idDEM){
                        var requestLD = new XMLHttpRequest();
                        requestLD.open('GET', "http://192.168.43.96:3000/langues/"+nvd.ID_LANGUE, true);
                        requestLD.onload = function()
                        {
                            // Begin accessing JSON data here
                            var dataLD = JSON.parse(this.response);
                            var listLang = document.getElementById("ListLang").getElementsByTagName("div");
                            if (listLang.length == 0){
                                ch=`<div class="job-article-footer">
                                        <div id="plusieurA_listLang" class="article-tags">
                                            <span>Liste des langues:</span>
                                            <a id="`+nvd._id+`" onclick="SelectDelete_a('ListLang','plusieurA_listLang','NOM_LANG','`+nvd._id+`','autreLang','`+nvd._id+`','languedemandeurs');" title="Modifier ou Supprimer">`+dataLD.NOM_LANG+`:`+nvd.NIV_LANG_DEM+`</a>
                                        </div>
                                    </div>`;
                                document.getElementById("ListLang").innerHTML= ch;
                            }else{
                                ch=`<a id="`+nvd._id+`" onclick="SelectDelete_a('ListLang','plusieurA_listLang','NOM_LANG','`+nvd._id+`','autreLang','`+nvd._id+`','languedemandeurs');" title="Modifier ou Supprimer">`+dataLD.NOM_LANG+`:`+nvd.NIV_LANG_DEM+`</a>`;
                                document.getElementById("plusieurA_listLang").insertAdjacentHTML('beforeend',ch);
                            }
                        }
                        requestLD.send();
                    }
                })
            }
            requestLNivDem.send();

            // Open a new connection, using the GET request on the URL endpoint
            var requestCNivDem = new XMLHttpRequest();
            requestCNivDem.open('GET', "http://192.168.43.96:3000/competencedemandeurs", true);
            requestCNivDem.onload = function()
            {
                dataCND = JSON.parse(this.response);
                dataCND.forEach(ncd => {
                    if(ncd.ID_DEMANDEUR== idDEM){
                        var requestCD = new XMLHttpRequest();
                        requestCD.open('GET', "http://192.168.43.96:3000/competences/"+ncd.ID_COMPETENCE, true);
                        requestCD.onload = function()
                        {
                            // Begin accessing JSON data here
                            var dataCD = JSON.parse(this.response);
                            var listComp = document.getElementById("ListComp").getElementsByTagName("div");
                            if (listComp.length == 0){
                                ch=`<div class="job-article-footer">
                                        <div id="plusieurA_listComp" class="article-tags">
                                            <span>Liste des compétences:</span>
                                            <a id="`+ncd._id+`" onclick="SelectDelete_a('ListComp','plusieurA_listComp','NOM_COMP','`+ncd._id+`','autreComp','`+ncd._id+`','competencedemandeurs');" title="Modifier ou Supprimer">`+dataCD.NOM_COMP+`:`+ncd.NIV_COMP_DEM+`</a>
                                        </div>
                                    </div>`;
                                document.getElementById("ListComp").innerHTML= ch;
                            }else{
                                ch=`<a id="`+ncd._id+`" onclick="SelectDelete_a('ListComp','plusieurA_listComp','NOM_COMP','`+ncd._id+`','autreComp','`+ncd._id+`','competencedemandeurs');" title="Modifier ou Supprimer">`+dataCD.NOM_COMP+`:`+ncd.NIV_COMP_DEM+`</a>`;
                                document.getElementById("plusieurA_listComp").insertAdjacentHTML('beforeend',ch);
                            }
                        }
                        requestCD.send();
                    }
                })
            }
            requestCNivDem.send();


            function change_valeurLang(){
                var selectPoste = document.getElementById("NOM_LANG");
                var choicePoste = selectPoste.selectedIndex;
                var valeurPoste = selectPoste.options[choicePoste].value;
                console.log(selectPoste.options[choicePoste]);
                if (valeurPoste == "1"){
                    ch=`<div class="col-lg-6 col-md-12">
                            <div class="form-group">
                                <label>Autre langue recherché</label>
                                <input id="AUTRE_NOM_LANG" name="autreNomLang" type="text" class="form-control" placeholder="Entrer une langue...">
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-12">
                            <div class="form-group">
                                <label>Niveau de langue</label>
                                <div class="row">
                                    <div class="col-lg-10 col-md-12">
                                        <select id="NIV_LANG_DEM" name="NivLangDEM" class="form-control">
                                            <option selected disabled>Choisir un niveau de langues...</option>
                                            <option value="1">1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                            <option value="5">5</option>
                                        </select>
                                    </div>
                                    <div class="col-lg-2 col-md-12">
                                        <button id="NIV_LANG_DEM1" type="button" class="bouttonkbir" onclick="ajoutLang();"><i class="ri-add-line"></i></button>
                                    </div>
                                </div> 
                            </div>
                        </div>`;
                    document.getElementById("autreLang").innerHTML=ch;
                }else{
                    ch=`<div class="col-lg-12 col-md-12">
                            <div class="form-group">
                                <label>Niveau de langue</label>
                                <div class="row">
                                    <div class="col-lg-11 col-md-12">
                                        <select id="NIV_LANG_DEM" name="NivLangDEM" class="form-control">
                                            <option selected disabled>Choisir un niveau de langues...</option>
                                            <option value="1">1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                            <option value="5">5</option>
                                        </select>
                                    </div>
                                    <div class="col-lg-1 col-md-12">
                                        <button id="NIV_LANG_DEM1" type="button" class="bouttonkbir" onclick="ajoutLang();"><i class="ri-add-line"></i></button>
                                    </div>
                                </div> 
                            </div>
                        </div>`;
                    document.getElementById("autreLang").innerHTML=ch;
                }
            }

            var nbLANG =0;
            function ajoutLang(){
                var selectLang = document.getElementById("NOM_LANG");
                var choiceLang = selectLang.selectedIndex;
                console.log(choiceLang);
                var valeurLang = selectLang.options[choiceLang].value;
                var textLang = selectLang.options[choiceLang].innerHTML;
                var chaine ="LANG";
                var contLANG = chaine + nbLANG;
                if(valeurLang =="1"){
                    if(document.getElementById("AUTRE_NOM_LANG").value !="" && document.getElementById("NIV_LANG_DEM").value !=""){
                        var listLang = document.getElementById("ListLang").getElementsByTagName("div");
                        if (listLang.length == 0){
                            ch=`<div class="job-article-footer">
                                    <div id="plusieurA_listLang" class="article-tags">
                                        <span>Liste des langues:</span>
                                        <a id="`+contLANG+`" onclick="SelectDelete_a('ListLang','plusieurA_listLang','NOM_LANG','`+contLANG+`','autreLang','lang','languedemandeurs');" title="Modifier ou Supprimer">`+document.getElementById("AUTRE_NOM_LANG").value+`:`+document.getElementById("NIV_LANG_DEM").value+`</a>
                                    </div>
                                </div>`;
                            document.getElementById("ListLang").innerHTML= ch;
                            document.getElementById("NOM_LANG").selectedIndex= document.getElementById("NOM_LANG").selectedIndex[0];
                            /*document.getElementById("AUTRE_NOM_LANG").value = "";
                            document.getElementById("NIV_LANG_OFF").value = "";*/
                            document.getElementById("autreLang").innerHTML="";
                            nbLANG +=1;
                        }else{
                            var nomLang=document.getElementById("AUTRE_NOM_LANG").value;
                            var nivLang=document.getElementById("NIV_LANG_DEM").value;
                            ch=`<a id="`+contLANG+`" onclick="SelectDelete_a('ListLang','plusieurA_listLang','NOM_LANG','`+contLANG+`','autreLang','lang','languedemandeurs');" title="Modifier ou Supprimer">`+nomLang+`:`+nivLang+`</a>`;
                            document.getElementById("plusieurA_listLang").insertAdjacentHTML('beforeend',ch);
                            document.getElementById("NOM_LANG").selectedIndex= document.getElementById("NOM_LANG").selectedIndex[0];
                            /*document.getElementById("AUTRE_NOM_LANG").value = "";
                            document.getElementById("NIV_LANG_OFF").value = "";*/
                            document.getElementById("autreLang").innerHTML="";
                            nbLANG +=1;
                        }
                    }else{
                        Swal.fire({
                            title:"Entrer une langue est leur niveau tout d'abbord",
                            icon:'warning',
                            showConfirmButton:false,
                            timer:1800
                        })
                    }
                }else{
                    if(document.getElementById("NIV_LANG_DEM").value ==""){
                        Swal.fire({
                            title:"Entrer un niveau de langue tout d'abbord",
                            icon:'warning',
                            showConfirmButton:false,
                            timer:1800
                        })
                    }else{
                        var listLang = document.getElementById("ListLang").getElementsByTagName("div");
                        if (listLang.length == 0){
                            ch=`<div class="job-article-footer">
                                    <div id="plusieurA_listLang" class="article-tags">
                                        <span>Liste des langues:</span>
                                        <a id="`+contLANG+`" onclick="SelectDelete_a('ListLang','plusieurA_listLang','NOM_LANG','`+contLANG+`','autreLang','lang','languedemandeurs');" title="Modifier ou Supprimer">`+textLang+`:`+document.getElementById("NIV_LANG_DEM").value+`</a>
                                    </div>
                                </div>`;
                            document.getElementById("ListLang").innerHTML= ch;
                            document.getElementById("NOM_LANG").selectedIndex= document.getElementById("NOM_LANG").selectedIndex[0];
                            /*document.getElementById("NIV_LANG_OFF").value = "";*/
                            document.getElementById("autreLang").innerHTML="";
                            nbLANG +=1;
                        }else{
                            var nivLang=document.getElementById("NIV_LANG_DEM").value;
                            ch=`<a id="`+contLANG+`" onclick="SelectDelete_a('ListLang','plusieurA_listLang','NOM_LANG','`+contLANG+`','autreLang','lang','languedemandeurs');" title="Modifier ou Supprimer">`+textLang+`:`+nivLang+`</a>`;
                            document.getElementById("plusieurA_listLang").insertAdjacentHTML('beforeend',ch);
                            document.getElementById("NOM_LANG").selectedIndex= document.getElementById("NOM_LANG").selectedIndex[0];
                            /*document.getElementById("NIV_LANG_OFF").value = "";*/
                            document.getElementById("autreLang").innerHTML="";
                            nbLANG +=1;
                        }
                    }
                }
            }


            function change_valeurComp(){
                var selectPoste = document.getElementById("NOM_COMP");
                var choicePoste = selectPoste.selectedIndex;
                var valeurPoste = selectPoste.options[choicePoste].value;
                //var textLang = selectLang.options[choiceLang].innerHTML;
                console.log(selectPoste.options[choicePoste]);
                if (valeurPoste == "1"){
                    ch=`<div class="col-lg-6 col-md-12">
                            <div class="form-group">
                                <label>Autre compétence recherché</label>
                                <input id="AUTRE_NOM_COMP" name="autreNomComp" type="text" class="form-control" placeholder="Entrer une compétence...">
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-12">
                            <div class="form-group">
                                <label>Niveau de compétence</label>
                                <div class="row">
                                    <div class="col-lg-10 col-md-12">
                                        <select id="NIV_COMP_DEM" name="NivCompDEM" class="form-control">
                                            <option selected disabled>Choisir un niveau de compétence...</option>
                                            <option value="1">1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                            <option value="5">5</option>
                                        </select>
                                    </div>
                                    <div class="col-lg-2 col-md-12">
                                        <button id="NIV_COMP_DEM1" type="button" class="bouttonkbir" onclick="ajoutComp();"><i class="ri-add-line"></i></button>
                                    </div>
                                </div> 
                            </div>
                        </div>`;
                    document.getElementById("autreComp").innerHTML=ch;
                }else{
                    ch=`<div class="col-lg-12 col-md-12">
                            <div class="form-group">
                                <label>Niveau de compétence</label>
                                <div class="row">
                                    <div class="col-lg-11 col-md-12">
                                        <select id="NIV_COMP_DEM" name="NivCompDEM" class="form-control">
                                            <option selected disabled>Choisir un niveau de compétence...</option>
                                            <option value="1">1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                            <option value="5">5</option>
                                        </select>
                                    </div>
                                    <div class="col-lg-1 col-md-12">
                                        <button id="NIV_COMP_DEM1" type="button" class="bouttonkbir" onclick="ajoutComp();"><i class="ri-add-line"></i></button>
                                    </div>
                                </div> 
                            </div>
                        </div>`;
                    document.getElementById("autreComp").innerHTML=ch;
                }
            }

            var nbCOMP =0;
            function ajoutComp(){
                var selectComp = document.getElementById("NOM_COMP");
                var choiceComp = selectComp.selectedIndex;
                var valeurComp = selectComp.options[choiceComp].value;
                var textComp = selectComp.options[choiceComp].innerHTML;
                var chaine ="COMP";
                var contCOMP = chaine + nbCOMP;
                if(valeurComp =="1"){
                    if(document.getElementById("AUTRE_NOM_COMP").value !="" && document.getElementById("NIV_COMP_DEM").value !=""){
                        var listComp = document.getElementById("ListComp").getElementsByTagName("div");
                        if (listComp.length == 0){
                            ch=`<div class="job-article-footer">
                                    <div id="plusieurA_listComp" class="article-tags">
                                        <span>Liste des compétences:</span>
                                        <a id="`+contCOMP+`" onclick="SelectDelete_a('ListComp','plusieurA_listComp','NOM_COMP','`+contCOMP+`','autreComp','comp','competencedemandeurs');" title="Modifier ou Supprimer">`+document.getElementById("AUTRE_NOM_COMP").value+`:`+document.getElementById("NIV_COMP_DEM").value+`</a>
                                    </div>
                                </div>`;
                            document.getElementById("ListComp").innerHTML= ch;
                            document.getElementById("NOM_COMP").selectedIndex= document.getElementById("NOM_COMP").selectedIndex[0];
                            document.getElementById("autreComp").innerHTML="";
                            nbCOMP +=1;
                        }else{
                            var nomComp=document.getElementById("AUTRE_NOM_COMP").value;
                            var nivComp=document.getElementById("NIV_COMP_DEM").value;
                            ch=`<a id="`+contCOMP+`" onclick="SelectDelete_a('ListComp','plusieurA_listComp','NOM_COMP','`+contCOMP+`','autreComp','comp','competencedemandeurs');" title="Modifier ou Supprimer">`+nomComp+`:`+nivComp+`</a>`;
                            document.getElementById("plusieurA_listComp").insertAdjacentHTML('beforeend',ch);
                            document.getElementById("NOM_COMP").selectedIndex= document.getElementById("NOM_COMP").selectedIndex[0];
                            document.getElementById("autreComp").innerHTML="";
                            nbCOMP +=1
                        }
                    }else{
                        Swal.fire({
                            title:"Entrer une compétence est leur niveau tout d'abbord",
                            icon:'warning',
                            showConfirmButton:false,
                            timer:1800
                        })
                    }
                }else{
                    if(document.getElementById("NIV_COMP_DEM").value ==""){
                        Swal.fire({
                            title:"Entrer un niveau de compétence tout d'abbord",
                            icon:'warning',
                            showConfirmButton:false,
                            timer:1800
                        })
                    }else{
                        var listComp = document.getElementById("ListComp").getElementsByTagName("div");
                        if (listComp.length == 0){
                            ch=`<div class="job-article-footer">
                                    <div id="plusieurA_listComp" class="article-tags">
                                        <span>Liste des compétences:</span>
                                        <a id="`+contCOMP+`" onclick="SelectDelete_a('ListComp','plusieurA_listComp','NOM_COMP','`+contCOMP+`','autreComp','comp','competencedemandeurs');" title="Modifier ou Supprimer">`+textComp+`:`+document.getElementById("NIV_COMP_DEM").value+`</a>
                                    </div>
                                </div>`;
                            document.getElementById("ListComp").innerHTML= ch;
                            document.getElementById("NOM_COMP").selectedIndex= document.getElementById("NOM_COMP").selectedIndex[0];
                            document.getElementById("autreComp").innerHTML="";
                            nbCOMP +=1;
                        }else{
                            var nivComp=document.getElementById("NIV_COMP_DEM").value;
                            ch=`<a id="`+contCOMP+`" onclick="SelectDelete_a('ListComp','plusieurA_listComp','NOM_COMP','`+contCOMP+`','autreComp','comp','competencedemandeurs');" title="Modifier ou Supprimer">`+textComp+`:`+nivComp+`</a>`;
                            document.getElementById("plusieurA_listComp").insertAdjacentHTML('beforeend',ch);
                            document.getElementById("NOM_COMP").selectedIndex= document.getElementById("NOM_COMP").selectedIndex[0];
                            document.getElementById("autreComp").innerHTML="";
                            nbCOMP +=1;
                        }
                    }
                }
            }

            function delete_a(ListDiv,ListA,textContenet,c,btn,Nomfn,NomReq){
                Swal.fire({
                title: 'Voulez-vous modifier ou supprimer cet élément?',
                icon:'question',
                showDenyButton: true,
                showCancelButton: true,
                confirmButtonText: 'Modifier',
                denyButtonText: `Supprimer`,
                }).then((result) => {
                if (result.isConfirmed) {
                    document.getElementById(textContenet).value = document.getElementById(c).innerHTML;
                    ch=`<button type="button" class="bouttonkbir" onclick="Modif_a('`+c+`','`+textContenet+`','`+btn+`','`+Nomfn+`');"><i class="ri-pencil-line"></i></button>`;
                    document.getElementById(btn).innerHTML = ch;
                } else if (result.isDenied) {
                    supprimerA(c,NomReq);
                    var Del_a = document.getElementById(c);
                        Del_a.parentNode.removeChild(Del_a);
                        var listA = document.getElementById(ListA).getElementsByTagName("a");
                        if (listA.length == 0){
                            document.getElementById(ListDiv).innerHTML = "";
                            document.getElementById(textContenet).value = "";
                        }
                        Swal.fire({
                            title:'cet élément est supprimé',
                            icon:'success',
                            showConfirmButton:false,
                            timer:1800
                        })
                }
                })
            }

            function Modif_a(x,y,z,w){
                document.getElementById(x).innerHTML = document.getElementById(y).value;
                document.getElementById(y).value = "";
                ch=`<button type="button" class="bouttonkbir" onclick="`+w+`"><i class="ri-add-line"></i></button>`;
                document.getElementById(z).innerHTML = ch;
                Swal.fire({
                    title:'cet élément est modifié',
                    icon:'success',
                    showConfirmButton:false,
                    timer:1800
                })

            
            }

            function SelectDelete_a(ListDiv,ListA,textContenet,c,btn,idNiv,NomNiv){
                Swal.fire({
                title: 'Voulez-vous modifier ou supprimer cet élément?',
                icon:'question',
                showDenyButton: true,
                showCancelButton: true,
                confirmButtonText: 'Modifier',
                denyButtonText: `Supprimer`,
                }).then((result) => {
                if (result.isConfirmed) {
                    var spEv = document.getElementById(c).innerHTML.split(':');
                    ch=`<div class="col-lg-6 col-md-12">
                            <div class="form-group">
                                <label>Nom séléctionné</label>
                                <input id="AUTRE_NOM" name="autreNomLang" type="text" class="form-control" placeholder="Entrer un nom..." value="`+spEv[0]+`">
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-12">
                            <div class="form-group">
                                <label>Niveau séléctionné</label>
                                <div class="row">
                                    <div class="col-lg-10 col-md-12">
                                        <select id="NIV" name="NivLangDEM" class="form-control">
                                            <option selected disabled>Choisir un niveau de langues...</option>
                                            <option value="1">1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                            <option value="5">5</option>
                                        </select>
                                    </div>
                                    <div class="col-lg-2 col-md-12">
                                        <button id="NIV_LANG_OFF1" type="button" class="bouttonkbir" onclick="Selectmodif_a('`+c+`','AUTRE_NOM','NIV','`+btn+`');"><i class="ri-pencil-line"></i></button>
                                    </div>
                                </div> 
                            </div>
                        </div>`;
                    document.getElementById(btn).innerHTML = ch;
                    document.getElementById("NIV").value = spEv[1];
                } else if (result.isDenied) {
                    supprimer_a(idDEM,idNiv,NomNiv,c,ListA,ListDiv,textContenet);
                    var Del_a = document.getElementById(c);
                    Del_a.parentNode.removeChild(Del_a);
                    var listA = document.getElementById(ListA).getElementsByTagName("a");
                    if (listA.length == 0){
                        document.getElementById(ListDiv).innerHTML = "";
                        document.getElementById(textContenet).selectedIndex = document.getElementById(textContenet).selectedIndex[0];
                    }
                    Swal.fire({
                        title:'cet élément est supprimé',
                        icon:'success',
                        showConfirmButton:false,
                        timer:1800
                    })
                }
                })
            }

            function supprimerA(y,NomClass){
                
                var requestSS = new XMLHttpRequest();
                console.log(NomClass);
                var url55 = "http://192.168.43.96:3000/"+NomClass;
                console.log("url is");
                console.log(url55);
                requestSS.open('GET', url55, true);
                requestSS.onload = function()
                {
                    console.log("aaaa");
                    dataSS = JSON.parse(this.response);
                    dataSS.forEach(i => {
                        if(i._id == y){
                            console.log(i._id == y);
                            var url33 = "http://192.168.43.96:3000/"+NomClass+"/" + i._id ;
                            var xhr33 = new XMLHttpRequest();
                            xhr33.open("DELETE", url33, true);
                            xhr33.onload = function () {
                                if (xhr33.readyState == 4 && xhr33.status == "200") {
                                    console.log("supprimer");
                                }else{
                                    console.log("non supprimer");
                                }
                            }
                            xhr33.send();
                        }
                    })
                }
                requestSS.send();
            }

            function Selectmodif_a(x,y,z,w){
                document.getElementById(x).innerHTML = document.getElementById(y).value+':'+document.getElementById(z).value;
                document.getElementById(y).value = "";
                ch=``;
                document.getElementById(w).innerHTML = ch;
                Swal.fire({
                    title:'cet élément est modifié',
                    icon:'success',
                    showConfirmButton:false,
                    timer:1800
                })
            }

            function supprimer_a(x,y,NomClass,c,ListA,ListDiv,textContenet){
                
                var requestSS = new XMLHttpRequest();
                console.log(NomClass);
                var url55 = "http://192.168.43.96:3000/"+NomClass;
                console.log("url is");
                console.log(url55);
                requestSS.open('GET', url55, true);
                requestSS.onload = function()
                {
                    console.log("aaaa");
                    dataSS = JSON.parse(this.response);
                    dataSS.forEach(i => {
                        if(i._id == y){
                            console.log(i._id == y);
                            var url33 = "http://192.168.43.96:3000/"+NomClass+"/" + i._id ;
                            var xhr33 = new XMLHttpRequest();
                            xhr33.open("DELETE", url33, true);
                            xhr33.onload = function () {
                                if (xhr33.readyState == 4 && xhr33.status == "200") {
                                    console.log("supprimer");
                                }else{
                                    console.log("non supprimer");
                                }
                            }
                            xhr33.send();
                        }
                    })
                }
                requestSS.send();
            }

            function AutreVA(){
                var chVA = "ViaAsso"+nbVA;
                ch=`<span id=`+chVA+`>
                        <div class="row">
                            <div class="col-xl-6 col-lg-12 col-md-12">
                                <div class="form-group">
                                    <label>Nom de Vie Associative</label>
                                    <input name="NomVA" id="NOM_VA`+nbVA+`" type="text" placeholder="Entrer le nom de Vie Associative..." class="form-control">
                                </div>
                            </div>

                            <div class="col-xl-6 col-lg-12 col-md-12">
                                <div class="form-group">
                                    <label>Position de Vie Associative</label>
                                    <input name="PosVA" id="POSITION_VA`+nbVA+`" type="text" placeholder="Entrer le position Vie Associative..." class="form-control">
                                </div>
                            </div>

                            <div class="col-xl-6 col-lg-12 col-md-12">
                                <div class="form-group">
                                    <label>Date Début de Vie Associative</label>
                                    <input name="DatDebVA" id="DAT_DEB_VA`+nbVA+`" type="date" class="form-control" placeholder="Entrer la date début de Vie Associative...">
                                </div>
                            </div>

                            <div class="col-xl-6 col-lg-12 col-md-12">
                                <div class="form-group">
                                    <label>Date Fin de Vie Associative</label>
                                    <input name="DatFinVA" id="DAT_FIN_VA`+nbVA+`" type="date" class="form-control" placeholder="Entrer la date fin de Vie Associative...">
                                </div>
                            </div>
                        </div>
                        <div class="post"> </div> 
                    </span>`;
                document.getElementById("autreVA").insertAdjacentHTML('beforeend',ch);
                nbVA+=1;
            }

            function AutreEXP(){
                var chExp = "Experience"+nbExp;
                ch=`<span id=`+chExp+`>
                        <div class="row">
                            <div class="col-lg-12 col-md-12">
                                <div class="form-group">
                                    <label>Nom Entreprise de l'Expérience</label>
                                    <input name="NomEntExp" id="NOM_ENT_EXP`+nbExp+`" type="text" class="form-control" placeholder="Entrer le nom de l'entreprise...">
                                </div>
                            </div>

                            <div class="col-lg-12 col-md-12">
                                <div class="form-group">
                                    <label>Nom de l'Expérience</label>
                                    <input name="typExp" id="TYPE_EXP`+nbExp+`" type="text" class="form-control" placeholder="Entrer le nom de l'expérience...">
                                </div>
                            </div>

                            <div class="col-lg-12 col-md-12">
                                <div class="form-group">
                                    <label>Position de l'Expérience</label>
                                    <input name="posExp" id="POSITION_EXP`+nbExp+`" type="text" class="form-control" placeholder="Entrer la position de l'expérience...">
                                </div>
                            </div>

                            <div class="col-lg-12 col-md-12">
                                <div class="form-group">
                                    <label>Description</label>
                                    <textarea name="descExp" id="DESC_EXP`+nbExp+`" cols="30" rows="6" placeholder="Entrer une description sur l'expérience..." class="form-control"></textarea>
                                </div>
                            </div>

                            <div class="col-lg-12 col-md-12">
                                <div class="form-group">
                                    <label>Outils Utilisés</label>
                                    <input name="outExp" id="OUTIL_EXP`+nbExp+`" type="text" class="form-control" placeholder="Entrer les outils utilisés...">
                                </div>
                            </div>

                            <div class="col-xl-6 col-lg-12 col-md-12">
                                <div class="form-group">
                                    <label>Date Début de l'Expérience</label>
                                    <input name="DatDebExp" id="DAT_DEB_EXP`+nbExp+`" type="date" class="form-control" placeholder="Entrer la date début de l'expérience...">
                                </div>
                            </div>

                            <div class="col-xl-6 col-lg-12 col-md-12">
                                <div class="form-group">
                                    <label>Date Fin de l'Expérience</label>
                                    <input name="DatFinExp" id="DAT_FIN_EXP`+nbExp+`" type="date" class="form-control" placeholder="Entrer la date fin de l'expérience...">
                                </div>
                            </div>
                        </div>
                        <div class="post"> </div> 
                    </span>`;
                document.getElementById("ListExp").insertAdjacentHTML('beforeend',ch);
                nbExp+=1;
            }

            function AutreProj(){
                var chProj = "Projet"+nbProj;
                ch=`<span id=`+chProj+`>
                        <div class="row">
                            <div class="col-lg-12 col-md-12">
                                <div class="form-group">
                                    <label>Nom de Projet</label>
                                    <input name="NomProj" id="NOM_PROJ`+nbProj+`" type="text" placeholder="Entrer le nom de Projet..." class="form-control">
                                </div>
                            </div>

                            <div class="col-lg-12 col-md-12">
                                <div class="form-group">
                                    <label>Type de Projet</label>
                                    <input name="TypProj" id="TYPE_PROJ`+nbProj+`" type="text" class="form-control" placeholder="Entrer le type de Projet...">
                                </div>
                            </div>

                            <div class="col-lg-12 col-md-12">
                                <div class="form-group">
                                    <label>Description sur le Projet</label>
                                    <textarea name="DescProj" id="DESC_PROJ`+nbProj+`" cols="30" rows="6" placeholder="Entrer une description sur le Projet..." class="form-control"></textarea>
                                </div>
                            </div>

                            <div class="col-lg-12 col-md-12">
                                <div class="form-group">
                                    <label>Outils utilisés</label>
                                    <input name="OutProj" id="OUTIL_PROJ`+nbProj+`" type="text" class="form-control" placeholder="Entrer les outils utilisés sur le Projet...">
                                </div>
                            </div>

                            <div class="col-xl-6 col-lg-12 col-md-12">
                                <div class="form-group">
                                    <label>Date Début de Projet</label>
                                    <input name="DatDebProj" id="DAT_DEB_PROJ`+nbProj+`" type="date" class="form-control" placeholder="Entrer la date début de Projet...">
                                </div>
                            </div>

                            <div class="col-xl-6 col-lg-12 col-md-12">
                                <div class="form-group">
                                    <label>Date Fin de Projet</label>
                                    <input name="DatFinProj" id="DAT_FIN_PROJ`+nbProj+`" type="date" class="form-control" placeholder="Entrer la date fin de Projet...">
                                </div>
                            </div>
                        </div>
                        <div class="post"> </div> 
                    </span>`;
                document.getElementById("ListProj").insertAdjacentHTML('beforeend',ch);
                nbProj+=1;
            }

            function AutreCERT(){
                var chCert = "Certif"+nbCert;
                ch=`<span id=`+chCert+`>
                        <div class="row">
                            <div class="col-lg-12 col-md-12">
                                <div class="form-group">
                                    <label>Nom de Certificat</label>
                                    <input name="NomCert" id="NOM_CERT`+nbCert+`" type="text" placeholder="Entrer le nom de Certificat..." class="form-control">
                                </div>
                            </div>

                            <div class="col-lg-12 col-md-12">
                                <div class="form-group">
                                    <label>Référence de Certificat</label>
                                    <input name="RefCert" id="REF_CERT`+nbCert+`" type="text" class="form-control" placeholder="Entrer la référence de Certificat...">
                                </div>
                            </div>

                            <div class="col-lg-12 col-md-12">
                                <div class="form-group">
                                    <label>Description sur la Certificat</label>
                                    <textarea name="DescCert" id="DESC_CERT`+nbCert+`" cols="30" rows="6" placeholder="Entrer une description sur la Certificat..." class="form-control"></textarea>
                                </div>
                            </div>
                        </div>
                        <div class="post"> </div> 
                    </span>`;
                document.getElementById("ListCert").insertAdjacentHTML('beforeend',ch);
                nbCert+=1;
            }

            function AutreDIP(){
                var chDip = "Diplo"+nbDip;
                ch=`<span id=`+chDip+`>
                        <div class="row">
                            <div class="col-lg-12 col-md-12">
                                <div class="form-group">
                                    <label>Type de Diplôme</label>
                                    <select name="TypDip" id="TYPE_DIP`+nbDip+`" class="form-control" onchange="typeDiplome('TYPE_DIP`+nbDip+`','changetypeDip`+nbDip+`');">
                                        <option selected disabled>Choisir un diplôme...</option>
                                        <option value="1">Autre</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-lg-12 col-md-12" id="changetypeDip`+nbDip+`">
                            </div>

                            <div class="col-lg-12 col-md-12">
                                <div class="form-group">
                                    <label>Nom École de Diplôme</label>
                                    <input name="NomEcolDip" id="NOM_ECOL_DIP`+nbDip+`" type="text" placeholder="Entrer le nom de l'école..." class="form-control">
                                </div>
                            </div>

                            <div class="col-lg-12 col-md-12">
                                <div class="form-group">
                                    <label>Spécialité de Diplôme</label>
                                    <input name="SpecDip" id="SPECIA_DIP`+nbDip+`" type="text" class="form-control" placeholder="Entrer la spécialité de diplôme...">
                                </div>
                            </div>

                            <div class="col-xl-6 col-lg-12 col-md-12">
                                <div class="form-group">
                                    <label>Date Début de Diplôme</label>
                                    <input name="DatDebDip" id="DAT_DEB_DIP`+nbDip+`" type="date" class="form-control" placeholder="Entrer la date début de diplôme...">
                                </div>
                            </div>

                            <div class="col-xl-6 col-lg-12 col-md-12">
                                <div class="form-group">
                                    <label>Date Fin de Diplôme</label>
                                    <input name="DatFinDip" id="DAT_FIN_DIP`+nbDip+`" type="date" class="form-control" placeholder="Entrer la date fin de diplôme...">
                                </div>
                            </div>
                        </div>
                        <div class="post"> </div> 
                    </span>`;
                document.getElementById("ListDip").insertAdjacentHTML('beforeend',ch);
                var x = "TYPE_DIP"+nbDip;
                // Open a new connection, using the GET request on the URL endpoint
                var requestD = new XMLHttpRequest();
                requestD.open('GET', "http://192.168.43.96:3000/diplomes", true);
                requestD.onload = function()
                {
                    // Begin accessing JSON data here
                    var dataD = JSON.parse(this.response);
                    dataD.forEach(j => {
                        ch=`<option value="`+j._id+`">`+j.TYPE_DIP+`</option>`;
                        document.getElementById(x).insertAdjacentHTML('beforeend',ch);
                    })
                }
                requestD.send();
                nbDip+=1;
            }

            function typeDiplome(x,y){
                if(document.getElementById(x).value=="1"){
                    ch=`<div class="form-group">
                                <label>Autre type d'emploi</label>
                                <input id="AutreTypDip" name="autDIP" class="form-control" type="text" placeholder="Entrer un autre type...">
                            </div>`;
                    document.getElementById(y).innerHTML=ch;
                }else{
                    document.getElementById(y).innerHTML="";
                }
            }

            function AutreFOR(){
                var chFor = "Certif"+nbFor;
                ch=`<span id=`+chFor+`>
                        <div class="row">
                            <div class="col-lg-12 col-md-12">
                                <div class="form-group">
                                    <label>Nom de Formation</label>
                                    <input name="Nomform" id="NOM_FOR`+nbFor+`" type="text" placeholder="Entrer le nom de formation..." class="form-control">
                                </div>
                            </div>

                            <div class="col-lg-12 col-md-12">
                                <div class="form-group">
                                    <label>Description sur la Formation</label>
                                    <textarea name="DescForm" id="DESC_FOR`+nbFor+`" cols="30" rows="6" placeholder="Entrer une description sur la formation..." class="form-control"></textarea>
                                </div>
                            </div>

                            <div class="col-xl-6 col-lg-12 col-md-12">
                                <div class="form-group">
                                    <label>Date Début de Formation</label>
                                    <input name="DatDebForm" id="DAT_DEB_FOR`+nbFor+`" type="date" class="form-control" placeholder="Entrer la date début de formation...">
                                </div>
                            </div>

                            <div class="col-xl-6 col-lg-12 col-md-12">
                                <div class="form-group">
                                    <label>Date Fin de Formation</label>
                                    <input name="DatFinForm" id="DAT_FIN_FOR`+nbFor+`" type="date" class="form-control" placeholder="Entrer la date fin de formation...">
                                </div>
                            </div>
                        </div>
                        <div class="post"> </div> 
                    </span>`;
                document.getElementById("ListFor").insertAdjacentHTML('beforeend',ch);
                nbFor+=1;
            }

            function modifProfil() {
                $.validator.setDefaults({
                    submitHandler: function () {
                        var requestDem1 = new XMLHttpRequest()
                        // Open a new connection, using the GET request on the URL endpoint
                        requestDem1.open('GET', 'http://192.168.43.96:3000/demandeurs/'+idDEM, true)
                        requestDem1.onload = function() 
                        {
                            // Begin accessing JSON data here
                            var data = JSON.parse(this.response)
                            var url3 = "http://192.168.43.96:3000/demandeurs/" +idDEM ;
                            data2={};
                            data2.PHOTO_DEM = document.getElementById("PHOTO_DEM").value;
                            data2.EMAIL_DEM = data.EMAIL_DEM;
                            data2.PSW_DEM = data.PSW_DEM;
                            data2.NOM_DEM = document.getElementById("NOM_DEM").value;
                            data2.PRE_DEM = document.getElementById("PRE_DEM").value;
                            data2.SEXE_DEM = document.getElementById("SEXE_DEM").value;
                            data2.DAT_NAI_DEM = document.getElementById("DAT_NAI_DEM").value;
                            data2.VILLE_DEM = data.VILLE_DEM;
                            data2.PAYS_DEM = data.PAYS_DEM;
                            data2.ADRESSE_DEM = data.ADRESSE_DEM;
                            data2.NUM_TEL_DEM = data.NUM_TEL_DEM;
                            data2.COD_POST_DEM = data.COD_POST_DEM;
                            data2.PERMIS_COND_DEM = data.PERMIS_COND_DEM;
                            data2.TYPE_PERMIS_DEM = data.TYPE_PERMIS_DEM;
                            data2.SAL_MIN_DEM = data.SAL_MIN_DEM;
                            data2.URL_LINK_DEM = data.URL_LINK_DEM;
                            data2.DESC_DEM = document.getElementById("DESC_DEM").value;
                            data2.SPES_DEM = document.getElementById("SPES_DEM").value;
                            data2.ARCHIV_DEM = data.ARCHIV_DEM;
                            data2.URL_FB_DEM = data.URL_FB_DEM;

                            var json = JSON.stringify(data2);
                            var xhr3 = new XMLHttpRequest();
                            xhr3.open("PUT", url3, true);
                            xhr3.setRequestHeader('Content-type','application/json; charset=utf-8');
                            xhr3.onload = function () {
                                if (xhr3.readyState == 4 && xhr3.status == "200") {
                                    Swal.fire({
                                        title:'Modification enregistré !',
                                        icon:'success',
                                        showConfirmButton:false,
                                        timer:1800
                                    })
                                }else{
                                    Swal.fire({
                                        icon:'error',  
                                        title:'Il y a un erreur !',
                                        showConfirmButton:true,
                                        timer:1500
                                    })
                                }
                            }
                            xhr3.send(json);
                        }
                        requestDem1.send();

                    }
                });

                $('#formProf').validate({
                    rules: {
                        NomDem: {
                            required: true,
                        },
                        PreDem: {
                            required: true,
                        },
                        SpeciaDem: {
                            required: true,
                        },
                        SexeDem: {
                            required: true,
                        },
                        DatNaisDem: {
                            required: true,
                        },
                        DescDem: {
                            required: true,
                        },
                        PhotoDem: {
                            accept: "image/*",
                        },
                    },
                    messages: {
                        NomDem: {
                            required: "Veuillez entrer votre nom"
                        },
                        PreDem: {
                            required: "Veuillez entrer votre prénom"
                        },
                        SpeciaDem: {
                            required: "Veuillez entrer votre spécialité"
                        },
                        SexeDem: {
                            required: "Veuillez choisir votre sexe"
                        },
                        DatNaisDem: {
                            required: "Veuillez entrer votre date de naissance"
                        },
                        DescDem: {
                            required: "Veuillez entrer une description sur votre profil"
                        },
                        PhotoDem: {
                            accept:"extension image"
                        }
                    },
                    errorElement: 'span',
                    errorPlacement: function (error, element) {
                    error.addClass('text-danger');
                    element.closest('.form-group').append(error);
                    },
                    highlight: function (element) {
                        var msgClasses = "h4";
                        $(element).addClass(msgClasses);
                    },
                    unhighlight: function (element) {
                        var msgClasses = "h4 tab";
                        $(element).removeClass("h4");
                        $(element).addClass(msgClasses);
                
                    }
                
                });
            }

            function modifInfo() {
                $.validator.setDefaults({
                    submitHandler: function () {
                        var requestDem2 = new XMLHttpRequest()
                        // Open a new connection, using the GET request on the URL endpoint
                        requestDem2.open('GET', 'http://192.168.43.96:3000/demandeurs/'+idDEM, true)
                        requestDem2.onload = function() 
                        {
                            // Begin accessing JSON data here
                            var data = JSON.parse(this.response)
                            var url3 = "http://192.168.43.96:3000/demandeurs/" +idDEM ;
                            data2={};
                            data2.PHOTO_DEM = data.PHOTO_DEM;
                            data2.EMAIL_DEM = data.EMAIL_DEM;
                            data2.PSW_DEM = data.PSW_DEM;
                            data2.NOM_DEM = data.NOM_DEM;
                            data2.PRE_DEM = data.PRE_DEM;
                            data2.SEXE_DEM = data.SEXE_DEM;
                            data2.DAT_NAI_DEM = data.DAT_NAI_DEM;
                            data2.VILLE_DEM = document.getElementById("VILLE_DEM").value;
                            data2.PAYS_DEM = document.getElementById("PAYS_DEM").value;
                            data2.ADRESSE_DEM = document.getElementById("ADRESSE_DEM").value;
                            data2.NUM_TEL_DEM = document.getElementById("NUM_TEL_DEM").value;
                            data2.COD_POST_DEM = document.getElementById("COD_POST_DEM").value;
                            if (document.getElementById("PERMIS_COND_DEM").value =="1"){
                                data2.PERMIS_COND_DEM = document.getElementById("PERMIS_COND_DEM").value;
                                data2.TYPE_PERMIS_DEM = document.getElementById("TYPE_PERMIS_DEM").value;
                            }else{
                                data2.PERMIS_COND_DEM = document.getElementById("PERMIS_COND_DEM").value;
                                data2.TYPE_PERMIS_DEM = "";
                            }
                            data2.SAL_MIN_DEM = document.getElementById("SAL_MIN_DEM").value;
                            data2.URL_LINK_DEM = document.getElementById("URL_LINK_DEM").value;
                            data2.DESC_DEM = data.DESC_DEM;
                            data2.SPES_DEM = data.SPES_DEM;
                            data2.ARCHIV_DEM = data.ARCHIV_DEM;
                            data2.URL_FB_DEM = document.getElementById("URL_FB_DEM").value;

                            var json = JSON.stringify(data2);
                            var xhr3 = new XMLHttpRequest();
                            xhr3.open("PUT", url3, true);
                            xhr3.setRequestHeader('Content-type','application/json; charset=utf-8');
                            xhr3.onload = function () {
                                if (xhr3.readyState == 4 && xhr3.status == "200") {
                                    Swal.fire({
                                        title:'Modification enregistré !',
                                        icon:'success',
                                        showConfirmButton:false,
                                        timer:1800
                                    })
                                }else{
                                    Swal.fire({
                                        icon:'error',  
                                        title:'Il y a un erreur !',
                                        showConfirmButton:true,
                                        timer:1500
                                    })
                                }
                            }
                            xhr3.send(json);
                        }
                        requestDem2.send();

                    }
                });

                $('#formInfo').validate({
                    rules: {
                        NumTelDem: {
                            required: true,
                            numtel: true,
				            number: true,
                        },
                        SalMinDem: {
                            required: true,
                        },
                        permisDem: {
                            required: true,
                        },
                        typPermisDem: {
                            required: true,
                        },
                        AdressDem: {
                            required: true,
                        },
                        CPDem: {
                            required: true,
                            num: true,
                        },
                        VilleDem: {
                            required: true,
                        },
                        paysDem: {
                            required: true,
                        },
                    },
                    messages: {
                        NumTelDem: {
                            required: "Veuillez entrer votre numéro de téléphone",
                            numtel: "Le téléphone doit comporter 8 chiffres et ne débute pas par 0 ou 1 ",
				            number:"Contient que chiffres "
                        },
                        SalMinDem: {
                            required: "Veuillez entrer un salaire minimum"
                        },
                        permisDem: {
                            required: "Veuillez choisir un permis"
                        },
                        typPermisDem: {
                            required: "Veuillez choisir le type de permis"
                        },
                        AdressDem: {
                            required: "Veuillez entrer votre adresse"
                        },
                        CPDem: {
                            required: "Veuillez entrer un code postal",
                            num: "Le code postal doit comporter 4 chiffres"
                        },
                        VilleDem: {
                            required: "Veuillez choisir votre ville"
                        },
                        paysDem: {
                            required: "Veuillez entrer vaotre pays"
                        }
                    },
                    errorElement: 'span',
                    errorPlacement: function (error, element) {
                    error.addClass('text-danger');
                    element.closest('.form-group').append(error);
                    },
                    highlight: function (element) {
                        var msgClasses = "h4";
                        $(element).addClass(msgClasses);
                    },
                    unhighlight: function (element) {
                        var msgClasses = "h4 tab";
                        $(element).removeClass("h4");
                        $(element).addClass(msgClasses);
                
                    }
                
                });
                jQuery.validator.addMethod(
                    "num",
                    function(value, element) {
                        return /^([0-9].{3})+$/.test(value);
                },)
                jQuery.validator.addMethod(
                    "numtel",
                    function(value, element) {
                        return /^[2-9][0-9].{6}$/.test(value);
                },)
            }

            var nbtest=0;
            function modifAutreVA(){
                var dataCi = {};
                var dataqa = {};
                var datavaaa = {};
                // Open a new connection, using the GET request on the URL endpoint
                var requestCInt = new XMLHttpRequest();
                requestCInt.open('GET', "http://192.168.43.96:3000/centresinterets", true);
                requestCInt.onload = function()
                {
                    var dataCInt = JSON.parse(this.response);
                    var listCENT = document.getElementById("ListCI").getElementsByTagName("a");
                    if (listCENT.length > 0){
                        
                        
                        for(var i=0;i<listCENT.length;i++){
                            dataCi.NOM_CI = document.getElementById(listCENT[i].id).innerHTML;
                            dataCi.ID_DEMANDEUR = idDEM;
                            var test = true;
                            var x ="";
                            dataCInt.forEach(h => {
                                if ( h._id == listCENT[i].id){
                                    test = false;
                                    x = h._id
                                }
                            })

                            if(test){
                                var jsonCi = JSON.stringify(dataCi);
                                var urlCi = "http://192.168.43.96:3000/centresinterets";
                                var xhrCi = new XMLHttpRequest();
                                xhrCi.open("POST", urlCi, true);
                                xhrCi.setRequestHeader('Content-type','application/json; charset=utf-8');
                                xhrCi.onload = function () {
                                    var Cent= JSON.parse(xhrCi.responseText);
                                    if (xhrCi.readyState == 4 && xhrCi.status == "200") {
                                        console.log("ok");
                                    }else{
                                        console.log("erreur");
                                    }
                                }
                                xhrCi.send(jsonCi);
                                nbtest+=1;
                            }else{
                                
                                var jsonCi = JSON.stringify(dataCi);
                                var urlCi = "http://192.168.43.96:3000/centresinterets/"+x;
                                var xhrCi = new XMLHttpRequest();
                                xhrCi.open("PUT", urlCi, true);
                                xhrCi.setRequestHeader('Content-type','application/json; charset=utf-8');
                                xhrCi.onload = function () {
                                    var Cent= JSON.parse(xhrCi.responseText);
                                    if (xhrCi.readyState == 4 && xhrCi.status == "200") {
                                        console.log("ok");
                                    }else{
                                        console.log("erreur");
                                    }
                                }
                                xhrCi.send(jsonCi);
                                nbtest+=1;
                            }
                        }
                    }
                    //Qualité
                    var listquAL = document.getElementById("ListQUA").getElementsByTagName("a");
                    
                    // Open a new connection, using the GET request on the URL endpoint
                    var requestquAL = new XMLHttpRequest();
                    requestquAL.open('GET', "http://192.168.43.96:3000/qualites", true);
                    requestquAL.onload = function()
                    {
                        var dataqua = JSON.parse(this.response);
                        if (listquAL.length > 0){
                        
                            
                            
                            for(var i=0;i<listquAL.length;i++){
                                dataqa.NOM_QUA = document.getElementById(listquAL[i].id).innerHTML;
                                dataqa.ID_DEMANDEUR = idDEM;
                                var testqa = false;
                                var xq ="";
                                dataqua.forEach(hq => {
                                    if ( hq._id == listquAL[i].id){
                                        testqa = true;
                                        xq = hq._id;
                                        
                                    }
                                })

                                if(testqa==false){
                                    
                                    var jsonqa = JSON.stringify(dataqa);
                                    var urlqa = "http://192.168.43.96:3000/qualites";
                                    var xhrqa = new XMLHttpRequest();
                                    xhrqa.open("POST", urlqa, true);
                                    xhrqa.setRequestHeader('Content-type','application/json; charset=utf-8');
                                    xhrqa.onload = function () {
                                        var qual= JSON.parse(xhrqa.responseText);
                                        if (xhrqa.readyState == 4 && xhrqa.status == "200") {
                                            console.log("ok");
                                        }else{
                                            console.log("erreur");
                                        }
                                    }
                                    xhrqa.send(jsonqa);
                                    nbtest+=1;
                                }else{
                                    var jsonqaP = JSON.stringify(dataqa);
                                    var urlqaP = "http://192.168.43.96:3000/qualites/"+xq;
                                    var xhrqaP = new XMLHttpRequest();
                                    xhrqaP.open("PUT", urlqaP, true);
                                    xhrqaP.setRequestHeader('Content-type','application/json; charset=utf-8');
                                    xhrqaP.onload = function () {
                                        if (xhrqaP.readyState == 4 && xhrqaP.status == "200") {
                                            console.log("ok");
                                        }else{
                                            console.log("erreur");
                                        }
                                    }
                                    xhrqaP.send(jsonqaP);
                                    nbtest+=1;
                                }
                            }
                        }

                        var ViaAsso = document.getElementById("autreVA").getElementsByTagName("span");
                        // Open a new connection, using the GET request on the URL endpoint
                        var requestva = new XMLHttpRequest();
                        requestva.open('GET', "http://192.168.43.96:3000/vieassociatives", true);
                        requestva.onload = function()
                        {
                            var datava = JSON.parse(this.response);
                            if (ViaAsso.length > 0){
                        
                                for(var i=0;i<ViaAsso.length;i++){
                                    console.log(ViaAsso[i].id);
                                    var test = true;
                                    var xqa= "";
                                    var listViaAsso = document.getElementById(ViaAsso[i].id).getElementsByTagName("input");
                                    datavaaa.NOM_VA = listViaAsso[0].value;
                                    datavaaa.POSITION_VA = listViaAsso[1].value;
                                    datavaaa.DAT_DEB_VA = listViaAsso[2].value;
                                    datavaaa.DAT_FIN_VA = listViaAsso[3].value;
                                    datavaaa.ID_DEMANDEUR = idDEM;
                                    if (listViaAsso[0].value != "" && listViaAsso[1].value != "" && listViaAsso[2].value != "" && listViaAsso[3].value != ""){
                                        datava.forEach(qua =>{
                                            if (qua._id == ViaAsso[i].id){
                                                test = false;
                                                xqa = qua._id;
                                            }
                                        })
                                    
                                        if(test==true){
                                            console.log(datavaaa);
                                            var jsonVa = JSON.stringify(datavaaa);
                                            var urlVa = "http://192.168.43.96:3000/vieassociatives";
                                            var xhrVa = new XMLHttpRequest();
                                            xhrVa.open("POST", urlVa, true);
                                            xhrVa.setRequestHeader('Content-type','application/json; charset=utf-8');
                                            xhrVa.onload = function () {
                                                var via= JSON.parse(xhrVa.responseText);
                                                if (xhrVa.readyState == 4 && xhrVa.status == "200") {
                                                    console.log("ok");
                                                }else{
                                                    console.log("erreur");
                                                }
                                            }
                                            xhrVa.send(jsonVa);
                                            nbtest+=1;
                                        }else{
                                            console.log(datavaaa);
                                            var jsonVaP = JSON.stringify(datavaaa);
                                            var urlVaP = "http://192.168.43.96:3000/vieassociatives/"+xqa;
                                            var xhrVaP = new XMLHttpRequest();
                                            xhrVaP.open("PUT", urlVaP, true);
                                            xhrVaP.setRequestHeader('Content-type','application/json; charset=utf-8');
                                            xhrVaP.onload = function () {
                                                var via= JSON.parse(xhrVaP.responseText);
                                                if (xhrVaP.readyState == 4 && xhrVaP.status == "200") {
                                                    console.log("ok");
                                                }else{
                                                    console.log("erreur");
                                                }
                                            }
                                            xhrVaP.send(jsonVaP);
                                            nbtest+=1;
                                        }
                                    }
                                }
                            }
                            if (nbtest != 0){
                                Swal.fire({
                                    title:'Modification enregistré !',
                                    icon:'success',
                                    showConfirmButton:false,
                                    timer:1800
                                })
                            }
                        }
                        requestva.send();
                    
                    } 
                    requestquAL.send();
                }                
                requestCInt.send();
            }

            var nbtestexp=0;
            function modifAutreExp(){
                
                var requestep = new XMLHttpRequest();
                requestep.open('GET', "http://192.168.43.96:3000/experiences", true);
                requestep.onload = function()
                {
                    // Begin accessing JSON data here
                    var dataep = JSON.parse(this.response);
                    console.log(dataep);
                    var dataepDem ={};
                    var listep = document.getElementById("ListExp").getElementsByTagName("span");
                    if (listep.length > 0){
                        
                        for(var i=0;i<listep.length;i++){
                            var testidEp = true;
                            var idep="";
                            var listepA = document.getElementById(listep[i].id).getElementsByTagName("input");
                            var listeptext = document.getElementById(listep[i].id).getElementsByTagName("textarea");
                            console.log(listepA);
                            dataepDem.NOM_ENT_EXP = listepA[0].value;
                            dataepDem.TYPE_EXP = listepA[1].value;
                            dataepDem.POSITION_EXP = listepA[2].value;
                            dataepDem.DESC_EXP= listeptext[0].value;
                            dataepDem.OUTIL_EXP = listepA[3].value;
                            dataepDem.DAT_DEB_EXP = listepA[4].value;
                            dataepDem.DAT_FIN_EXP = listepA[5].value;
                            dataepDem.ID_DEMANDEUR = idDEM;
                            dataep.forEach(j => {
                                if(j._id == listep[i].id){
                                    testidEp = false;
                                    idep=j._id;
                                }
                            })
                            if(testidEp){
                                
                                console.log(dataepDem);
                                var jsonepDem = JSON.stringify(dataepDem);
                                console.log(jsonepDem);
                                var urlepDem = "http://192.168.43.96:3000/experiences";
                                var xhrepDem = new XMLHttpRequest();
                                xhrepDem.open("POST", urlepDem, true);
                                xhrepDem.setRequestHeader('Content-type','application/json; charset=utf-8');
                                xhrepDem.onload = function () {
                                    if (xhrepDem.readyState == 4 && xhrepDem.status == "200") {
                                        console.log("ok");
                                    }else{
                                        console.log("erreur");
                                    }
                                }
                                xhrepDem.send(jsonepDem);
                                nbtestexp+=1;
                            }else{
                                console.log(dataepDem);
                                var jsonepDem = JSON.stringify(dataepDem);
                                console.log(jsonepDem);
                                var urlepDem = "http://192.168.43.96:3000/experiences/"+idep;
                                var xhrepDem = new XMLHttpRequest();
                                xhrepDem.open("PUT", urlepDem, true);
                                xhrepDem.setRequestHeader('Content-type','application/json; charset=utf-8');
                                xhrepDem.onload = function () {
                                    if (xhrepDem.readyState == 4 && xhrepDem.status == "200") {
                                        console.log("ok");
                                    }else{
                                        console.log("erreur");
                                    }
                                }
                                xhrepDem.send(jsonepDem);
                                nbtestexp+=1;
                            }
                        }
                    }
                    if (nbtestexp != 0){
                        Swal.fire({
                            title:'Modification enregistré !',
                            icon:'success',
                            showConfirmButton:false,
                            timer:1800
                        })
                    }
                }
                requestep.send();
            
            }

            var nbtestproj=0;
            function modifAutreProj(){
                // Open a new connection, using the GET request on the URL endpoint
                var requestPj = new XMLHttpRequest();
                requestPj.open('GET', "http://192.168.43.96:3000/projets", true);
                requestPj.onload = function()
                {
                    var dataPj = JSON.parse(this.response);
                    var datapjDem ={};
                    var listep = document.getElementById("ListProj").getElementsByTagName("span");
                    if (listep.length > 0){
                        
                        for(var i=0;i<listep.length;i++){
                            var testidpj = true;
                            var idpj="";
                            var listepA = document.getElementById(listep[i].id).getElementsByTagName("input");
                            var listeptext = document.getElementById(listep[i].id).getElementsByTagName("textarea");
                            console.log(listepA);
                            datapjDem.NOM_PROJ = listepA[0].value;
                            datapjDem.TYPE_PROJ = listepA[1].value;
                            datapjDem.DESC_PROJ= listeptext[0].value;
                            datapjDem.OUTIL_PROJ = listepA[2].value;
                            datapjDem.DAT_DEB_PROJ = listepA[3].value;
                            datapjDem.DAT_FIN_PROJ = listepA[4].value;
                            datapjDem.ID_DEMANDEUR = idDEM;
                            dataPj.forEach(j => {
                                if(j._id == listep[i].id){
                                    testidpj = false;
                                    idpj=j._id;
                                }
                            })
                            if(testidpj){
                                var jsonepDem = JSON.stringify(datapjDem);
                                console.log(jsonepDem);
                                var urlepDem = "http://192.168.43.96:3000/projets";
                                var xhrepDem = new XMLHttpRequest();
                                xhrepDem.open("POST", urlepDem, true);
                                xhrepDem.setRequestHeader('Content-type','application/json; charset=utf-8');
                                xhrepDem.onload = function () {
                                    if (xhrepDem.readyState == 4 && xhrepDem.status == "200") {
                                        console.log("ok");
                                    }else{
                                        console.log("erreur");
                                    }
                                }
                                xhrepDem.send(jsonepDem);
                                nbtestproj+=1;
                            }else{
                                var jsonepDem = JSON.stringify(datapjDem);
                                console.log(jsonepDem);
                                var urlepDem = "http://192.168.43.96:3000/projets/"+idpj;
                                var xhrepDem = new XMLHttpRequest();
                                xhrepDem.open("PUT", urlepDem, true);
                                xhrepDem.setRequestHeader('Content-type','application/json; charset=utf-8');
                                xhrepDem.onload = function () {
                                    if (xhrepDem.readyState == 4 && xhrepDem.status == "200") {
                                        console.log("ok");
                                    }else{
                                        console.log("erreur");
                                    }
                                }
                                xhrepDem.send(jsonepDem);
                                nbtestproj+=1;
                            }
                        }
                    }
                    if (nbtestproj != 0){
                        Swal.fire({
                            title:'Modification enregistré !',
                            icon:'success',
                            showConfirmButton:false,
                            timer:1800
                        })
                    }
                }
                requestPj.send();
            }

            var nbtestcert=0;
            function modifAutreCert(){
                // Open a new connection, using the GET request on the URL endpoint
                var requestct = new XMLHttpRequest();
                requestct.open('GET', "http://192.168.43.96:3000/certifications", true);
                requestct.onload = function()
                {
                    var datact = JSON.parse(this.response);
                    var datactDem ={};
                    var listep = document.getElementById("ListCert").getElementsByTagName("span");
                    if (listep.length > 0){
                        
                        for(var i=0;i<listep.length;i++){
                            var testidct = true;
                            var idct="";
                            var listepA = document.getElementById(listep[i].id).getElementsByTagName("input");
                            var listeptext = document.getElementById(listep[i].id).getElementsByTagName("textarea");
                            console.log(listepA);
                            datactDem.NOM_CERT = listepA[0].value;
                            datactDem.REF_CERT = listepA[1].value;
                            datactDem.DESC_CERT= listeptext[0].value;
                            datactDem.ID_DEMANDEUR = idDEM;
                            datact.forEach(j => {
                                if(j._id == listep[i].id){
                                    testidct = false;
                                    idct=j._id;
                                }
                            })
                            if(testidct){
                                var jsonepDem = JSON.stringify(datactDem);
                                console.log(jsonepDem);
                                var urlepDem = "http://192.168.43.96:3000/certifications";
                                var xhrepDem = new XMLHttpRequest();
                                xhrepDem.open("POST", urlepDem, true);
                                xhrepDem.setRequestHeader('Content-type','application/json; charset=utf-8');
                                xhrepDem.onload = function () {
                                    if (xhrepDem.readyState == 4 && xhrepDem.status == "200") {
                                        console.log("ok");
                                    }else{
                                        console.log("erreur");
                                    }
                                }
                                xhrepDem.send(jsonepDem);
                                nbtestcert+=1;
                            }else{
                                var jsonepDem = JSON.stringify(datactDem);
                                console.log(jsonepDem);
                                var urlepDem = "http://192.168.43.96:3000/certifications/"+idct;
                                var xhrepDem = new XMLHttpRequest();
                                xhrepDem.open("PUT", urlepDem, true);
                                xhrepDem.setRequestHeader('Content-type','application/json; charset=utf-8');
                                xhrepDem.onload = function () {
                                    if (xhrepDem.readyState == 4 && xhrepDem.status == "200") {
                                        console.log("ok");
                                    }else{
                                        console.log("erreur");
                                    }
                                }
                                xhrepDem.send(jsonepDem);
                                nbtestcert+=1;
                            }
                        }
                    }
                    if (nbtestcert != 0){
                        Swal.fire({
                            title:'Modification enregistré !',
                            icon:'success',
                            showConfirmButton:false,
                            timer:1800
                        })
                    }
                }
                requestct.send();
            }

            function modifAutreDip(){
                $.validator.setDefaults({
                    submitHandler: function () {
                        var dateauj07 = new Date();
                        var datemonth07 = '';
                        var datejour07 ='';
                        if ((dateauj07.getMonth()+1)<10){
                            datemonth07 = '0'+(dateauj07.getMonth()+1);
                        }else {
                            datemonth07 = (dateauj07.getMonth()+1);
                        }
                        if ((dateauj07.getDate())<10){
                            datejour07 = '0'+(dateauj07.getDate());
                        }else {
                            datejour07 = (dateauj07.getDate());
                        }
                        var abc07 = dateauj07.getFullYear() +'-'+ (datemonth07) +'-'+ (datejour07);

                    }
                });

                $('#formDip').validate({
                    rules: {
                        TypDip: {
                            required: true,
                        },
                        autDIP: {
                            required: true,
                        },
                        NomEcolDip: {
                            required: true,
                        },
                        SpecDip: {
                            required: true,
                        },
                        DatDebDip: {
                            required: true,
                        },
                        DatFinDip: {
                            required: true,
                        },
                    },
                    messages: {
                        TypDip: {
                            required: "Veuillez choisir un type de diplôme"
                        },
                        autDIP: {
                            required: "Veuillez entrer un autre type de diplôme"
                        },
                        NomEcolDip: {
                            required: "Veuillez entrer le nom de l'école"
                        },
                        SpecDip: {
                            required: "Veuillez entrer un spécialité"
                        },
                        DatDebDip: {
                            required: "Veuillez entrer le date début de diplôme"
                        },
                        DatFinDip: {
                            required: "Veuillez entrer le date fin de diplôme"
                        }
                    },
                    errorElement: 'span',
                    errorPlacement: function (error, element) {
                    error.addClass('text-danger');
                    element.closest('.form-group').append(error);
                    },
                    highlight: function (element) {
                        var msgClasses = "h4";
                        $(element).addClass(msgClasses);
                    },
                    unhighlight: function (element) {
                        var msgClasses = "h4 tab";
                        $(element).removeClass("h4");
                        $(element).addClass(msgClasses);
                
                    }
                
                });
            }

            var nbtestfor=0;
            function modifAutreFor(){
                // Open a new connection, using the GET request on the URL endpoint
                var requestfr = new XMLHttpRequest();
                requestfr.open('GET', "http://192.168.43.96:3000/formations", true);
                requestfr.onload = function()
                {
                    var datafr = JSON.parse(this.response);
                    var datafrDem ={};
                    var listep = document.getElementById("ListFor").getElementsByTagName("span");
                    if (listep.length > 0){
                        
                        for(var i=0;i<listep.length;i++){
                            var testidfr = true;
                            var idfr="";
                            var listepA = document.getElementById(listep[i].id).getElementsByTagName("input");
                            var listeptext = document.getElementById(listep[i].id).getElementsByTagName("textarea");
                            console.log(listepA);
                            if(listepA[1].value<listepA[2].value){
                                datafrDem.NOM_FOR = listepA[0].value;
                                datafrDem.DESC_FOR= listeptext[0].value;
                                datafrDem.DAT_DEB_FOR = listepA[1].value;
                                datafrDem.DAT_FIN_FOR = listepA[2].value;
                                datafrDem.ID_DEMANDEUR = idDEM;
                                datafr.forEach(j => {
                                    if(j._id == listep[i].id){
                                        testidfr = false;
                                        idfr=j._id;
                                    }
                                })
                                if(testidfr){
                                    var jsonepDem = JSON.stringify(datafrDem);
                                    console.log(jsonepDem);
                                    var urlepDem = "http://192.168.43.96:3000/formations";
                                    var xhrepDem = new XMLHttpRequest();
                                    xhrepDem.open("POST", urlepDem, true);
                                    xhrepDem.setRequestHeader('Content-type','application/json; charset=utf-8');
                                    xhrepDem.onload = function () {
                                        if (xhrepDem.readyState == 4 && xhrepDem.status == "200") {
                                            console.log("ok");
                                        }else{
                                            console.log("erreur");
                                        }
                                    }
                                    xhrepDem.send(jsonepDem);
                                    nbtestfor+=1;
                                }else{
                                    var jsonepDem = JSON.stringify(datafrDem);
                                    console.log(jsonepDem);
                                    var urlepDem = "http://192.168.43.96:3000/formations/"+idfr;
                                    var xhrepDem = new XMLHttpRequest();
                                    xhrepDem.open("PUT", urlepDem, true);
                                    xhrepDem.setRequestHeader('Content-type','application/json; charset=utf-8');
                                    xhrepDem.onload = function () {
                                        if (xhrepDem.readyState == 4 && xhrepDem.status == "200") {
                                            console.log("ok");
                                        }else{
                                            console.log("erreur");
                                        }
                                    }
                                    xhrepDem.send(jsonepDem);
                                    nbtestfor+=1;
                                }
                            }else{
                                
                                nbtestfor =-1;
                            }
                        }
                        if (nbtestfor >0){
                            Swal.fire({
                                title:'Modification enregistré !',
                                icon:'success',
                                showConfirmButton:false,
                                timer:1800
                            })
                            
                        }else{
                            Swal.fire({
                                title:"Le date début est supérieur à date fin !!!!",
                                icon:'error',
                                showConfirmButton:false,
                                timer:1800
                            })
                        }
                    }
                    
                }
                requestfr.send();
            }

            var nbtestCL=0;
            function modifAutreCL(){
                // Open a new connection, using the GET request on the URL endpoint
                var request = new XMLHttpRequest();
                request.open('GET', "http://192.168.43.96:3000/langues", true);
                request.onload = function()
                {
                    // Begin accessing JSON data here
                    var data = JSON.parse(this.response);
                    console.log(data);
                    var dataLANG ={};
                    var listLang = document.getElementById("ListLang").getElementsByTagName("a");
                    if (listLang.length > 0){
                        for(var i=0;i<listLang.length;i++){
                            var testnomLang = true;
                            var idlo="";
                            var splitLANG = listLang[i].innerHTML.split(":");
                            console.log(splitLANG);//********************
                            data.forEach(j => {
                                console.log(splitLANG[0]);
                                if(j.NOM_LANG == splitLANG[0]){
                                    testnomLang = false;
                                    idlo=j._id;
                                }
                            })
                            if(testnomLang){
                                dataLANG.NOM_LANG = splitLANG[0];
                                console.log(dataLANG);
                                var jsonLang = JSON.stringify(dataLANG);
                                console.log(jsonLang);
                                var urlLang = "http://192.168.43.96:3000/langues";
                                var xhrLang = new XMLHttpRequest();
                                xhrLang.open("POST", urlLang, true);
                                xhrLang.setRequestHeader('Content-type','application/json; charset=utf-8');
                                xhrLang.onload = function () {
                                    var langues= JSON.parse(xhrLang.responseText);
                                    console.log(langues);
                                    if (xhrLang.readyState == 4 && xhrLang.status == "200") {
                                        ajoutNivLang(splitLANG[1],idDEM,langues._id);
                                    }else{
                                        console.log("erreur");
                                    }
                                }
                                xhrLang.send(jsonLang);
                                nbtestCL+=1;
                            }else{
                                ajoutNivLang(splitLANG[1],idDEM,idlo);
                                nbtestCL+=1;
                            }
                        }
                    }
                    
                    // Open a new connection, using the GET request on the URL endpoint
                    var request1 = new XMLHttpRequest();
                        request1.open('GET', "http://192.168.43.96:3000/competences", true);
                        request1.onload = function()
                        {
                            // Begin accessing JSON data here
                            var data1 = JSON.parse(this.response);
                            console.log(data1);
                            var dataComp ={};
                            var listComp = document.getElementById("ListComp").getElementsByTagName("a");
                            if (listComp.length != 0){
                                for(var ic=0;ic<listComp.length;ic++){
                                    var testnomComp = true;
                                    var idco="";
                                    var splitCOMP = listComp[ic].innerHTML.split(":");
                                    data1.forEach(jc => {
                                        if(jc.NOM_COMP == splitCOMP[0]){
                                            testnomComp = false;
                                            idco = jc._id;
                                        }
                                    })
                                    if(testnomComp){
                                        dataComp.NOM_COMP = splitCOMP[0];
                                        var jsonComp = JSON.stringify(dataComp);
                                        var urlComp = "http://192.168.43.96:3000/competences";
                                        var xhrComp = new XMLHttpRequest();
                                        xhrComp.open("POST", urlComp, true);
                                        xhrComp.setRequestHeader('Content-type','application/json; charset=utf-8');
                                        xhrComp.onload = function () {
                                            var competences = JSON.parse(xhrComp.responseText);
                                            if (xhrComp.readyState == 4 && xhrComp.status == "200") {
                                                ajoutNivComp(splitCOMP[1],idDEM,competences._id);
                                            }
                                        }
                                        xhrComp.send(jsonComp);
                                        nbtestCL+=1;
                                    }else{
                                        ajoutNivComp(splitCOMP[1],idDEM,idco);
                                        nbtestCL+=1;
                                    }
                                }
                            } 
                            if (nbtestCL !=0){
                                Swal.fire({
                                    title:'Modification enregistré !',
                                    icon:'success',
                                    showConfirmButton:false,
                                    timer:1800
                                })
                            }
                        }
                        request1.send();
                }
                request.send();
            }

            function ajoutNivLang(NivAjoutLang,xAjoutLang,yAjoutLang){
                var dataNivLang ={};
                // Open a new connection, using the GET request on the URL endpoint
                var requestAjoutLang = new XMLHttpRequest();
                requestAjoutLang.open('GET', "http://192.168.43.96:3000/languedemandeurs", true);
                requestAjoutLang.onload = function()
                {
                    // Begin accessing JSON data here
                    var datalo = JSON.parse(this.response);
                    var testAjoutlang = false;
                    var idno="";
                    datalo.forEach( i=>{
                        if (i.ID_DEMANDEUR==xAjoutLang && i.ID_LANGUE==yAjoutLang){
                            testAjoutlang = true;
                            idno = i._id;
                            dataNivLang.NIV_LANG_DEM = NivAjoutLang;
                            dataNivLang.ID_LANGUE = i.ID_LANGUE;
                            dataNivLang.ID_DEMANDEUR = i.ID_DEMANDEUR;
                            
                        }
                    })
                    if(testAjoutlang==false){
                        dataNivLang.NIV_LANG_DEM = NivAjoutLang;
                        dataNivLang.ID_LANGUE = yAjoutLang;
                        dataNivLang.ID_DEMANDEUR = xAjoutLang;
                        
                        var jsonNivLang = JSON.stringify(dataNivLang);
                        var urlNivLang = "http://192.168.43.96:3000/languedemandeurs";
                        var xhrNivLang = new XMLHttpRequest();
                        xhrNivLang.open("POST", urlNivLang, true);
                        xhrNivLang.setRequestHeader('Content-type','application/json; charset=utf-8');
                        xhrNivLang.onload = function () {
                            var Nivlangues= JSON.parse(xhrNivLang.responseText);
                            if (xhrNivLang.readyState == 4 && xhrNivLang.status == "200") {
                                console.log("OK");
                            }
                        }
                        xhrNivLang.send(jsonNivLang);
                    }else{
                        var jsonNivLang = JSON.stringify(dataNivLang);
                        var urlNivLang = "http://192.168.43.96:3000/languedemandeurs/"+idno;
                        var xhrNivLang = new XMLHttpRequest();
                        xhrNivLang.open("PuT", urlNivLang, true);
                        xhrNivLang.setRequestHeader('Content-type','application/json; charset=utf-8');
                        xhrNivLang.onload = function () {
                            var Nivlangues= JSON.parse(xhrNivLang.responseText);
                            if (xhrNivLang.readyState == 4 && xhrNivLang.status == "200") {
                                console.log("OK");
                            }
                        }
                        xhrNivLang.send(jsonNivLang);
                    }
                }
                requestAjoutLang.send();
            }

            
            function ajoutNivComp(NivAjoutComp,xAjoutComp,yAjoutComp){
                var dataNivComp = {};
                // Open a new connection, using the GET request on the URL endpoint
                var requestAjoutComp = new XMLHttpRequest();
                requestAjoutComp.open('GET', "http://192.168.43.96:3000/competencedemandeurs", true);
                requestAjoutComp.onload = function()
                {
                    // Begin accessing JSON data here
                    var dataco = JSON.parse(this.response);
                    var testAjoutComp = false;
                    var idnc ="";
                    dataco.forEach( i=>{
                        if (i.ID_DEMANDEUR==xAjoutComp && i.ID_COMPETENCE==yAjoutComp){
                            testAjoutComp = true;
                            idnc = i._id;
                            dataNivComp.NIV_COMP_DEM = NivAjoutComp;
                            dataNivComp.ID_COMPETENCE = i.ID_COMPETENCE;
                            dataNivComp.ID_DEMANDEUR = i.ID_DEMANDEUR;
                        }
                    })
                    if(testAjoutComp==false){
                        dataNivComp.NIV_COMP_DEM = NivAjoutComp;
                        dataNivComp.ID_COMPETENCE = yAjoutComp;
                        dataNivComp.ID_DEMANDEUR = xAjoutComp;
                        var jsonNivComp = JSON.stringify(dataNivComp);
                        var urlNivComp = "http://192.168.43.96:3000/competencedemandeurs";
                        var xhrNivComp = new XMLHttpRequest();
                        xhrNivComp.open("POST", urlNivComp, true);
                        xhrNivComp.setRequestHeader('Content-type','application/json; charset=utf-8');
                        xhrNivComp.onload = function () {
                            var Nivcompetences= JSON.parse(xhrNivComp.responseText);
                            if (xhrNivComp.readyState == 4 && xhrNivComp.status == "200") {
                                console.log("OK");
                            }
                        }
                        xhrNivComp.send(jsonNivComp);
                    }else{
                        var jsonNivComp = JSON.stringify(dataNivComp);
                        var urlNivComp = "http://192.168.43.96:3000/competencedemandeurs/"+idnc;
                        var xhrNivComp = new XMLHttpRequest();
                        xhrNivComp.open("PuT", urlNivComp, true);
                        xhrNivComp.setRequestHeader('Content-type','application/json; charset=utf-8');
                        xhrNivComp.onload = function () {
                            var Nivlangues= JSON.parse(xhrNivComp.responseText);
                            if (xhrNivComp.readyState == 4 && xhrNivComp.status == "200") {
                                console.log("OK");
                            }
                        }
                        xhrNivComp.send(jsonNivComp);
                    }
                }
                requestAjoutComp.send();
            
            }
        </script>
    </body>
    
</html>